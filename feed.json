{
    "version": "https://jsonfeed.org/version/1",
    "title": "萌 Hz | 木白の时记",
    "subtitle": "日々私たちが过ごしている日常は、実は、奇迹の连続なのかもしれない",
    "icon": "https://blog.moehz.com/images/favicon.ico",
    "description": "",
    "home_page_url": "https://blog.moehz.com",
    "items": [
        {
            "id": "https://blog.moehz.com/archives/docker%E5%AE%89%E8%A3%85rustdesk.html",
            "url": "https://blog.moehz.com/archives/docker%E5%AE%89%E8%A3%85rustdesk.html",
            "title": "docker安装rustdesk",
            "date_published": "2024-07-17T00:00:00.000Z",
            "content_html": "<p>用了很久的 Todesk，从免费一路走过来，吃相越来越难看。现在居然直接限制每月远程时长。<br />\n<img data-src=\"https://ypy.moehz.com/img20240624095021.png\" alt=\"image.png\" /></p>\n<p>向日葵远程总觉得不稳定，老是间歇性断连，看来还是得自给自足，网上查询得知 Rustdesk 可以自建 server，决定使用这个。</p>\n<h2 id=\"搭建流程\"><a class=\"anchor\" href=\"#搭建流程\">#</a> 搭建流程</h2>\n<blockquote>\n<p>前提：</p>\n<ol>\n<li>你得有公网 IP，不然请自行通过 frp 等方式做中继或者内网穿透，公网 ipv6 可能也行，请自行探索</li>\n<li>自行安装 docker，以及 docker compose，本篇不介绍</li>\n</ol>\n</blockquote>\n<p>用 <code>docker compose</code>  可以很方便的搭建，内容如下：</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">hbbs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> hbbs</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">network_mode</span><span class=\"token punctuation\">:</span> host</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> rustdesk/rustdesk<span class=\"token punctuation\">-</span>server<span class=\"token punctuation\">:</span>latest</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> hbbs <span class=\"token punctuation\">-</span>r rust.test.com<span class=\"token punctuation\">:</span>21117 <span class=\"token punctuation\">-</span>k _</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./data<span class=\"token punctuation\">:</span>/root</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">-</span> hbbr</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> unless<span class=\"token punctuation\">-</span>stopped</pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token key atrule\">hbbr</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> hbbr</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token key atrule\">network_mode</span><span class=\"token punctuation\">:</span> host</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> rustdesk/rustdesk<span class=\"token punctuation\">-</span>server<span class=\"token punctuation\">:</span>latest</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> hbbr</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./data<span class=\"token punctuation\">:</span>/root</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> unless<span class=\"token punctuation\">-</span>stopped</pre></td></tr></table></figure><p>我这里图省事，直接使用 host 模式了，讲解一下重点的参数 ``<br />\n <code>command: hbbs -r rust.test.com:21117 -k _</code> ：</p>\n<ul>\n<li>\n<p><code>rust.test.com:21117</code> <br />\n 这个是客户端需要填写的 ID 服务器地址，自行根据实际情况修改，做好 DDNS</p>\n</li>\n<li>\n<p><code>-k _</code> <br />\n这代表开启加密，密钥它会自己生成，可以通过 <code>docker logs hbbs</code>  查看日志：<br />\n<img data-src=\"https://ypy.moehz.com/img20240624100353.png\" alt=\"image.png\" /></p>\n</li>\n</ul>\n<p>也可以在 <code>./data</code>  下查看生成的密钥，后缀为 <code>.pub</code>  的文件就是：<br />\n<img data-src=\"https://ypy.moehz.com/img20240624100600.png\" alt=\"image.png\" /></p>\n<h2 id=\"网络配置\"><a class=\"anchor\" href=\"#网络配置\">#</a> 网络配置</h2>\n<blockquote>\n<p>如果你有公网 IP，那么还需要在主路由配置一下端口映射，我以 openwrt 为例演示，其他路由器自行探寻</p>\n</blockquote>\n<p>需要开放的端口默认为 <code>21115-21119</code>  (如果你用了桥模式映射了其他端口，自行调整)，在 openwrt 中， <code>网络</code>  --&gt; <code>防火墙</code>  --&gt; <code>端口转发</code> 下添加规则：<br />\n<img data-src=\"https://ypy.moehz.com/img20240624101312.png\" alt=\"image.png\" /></p>\n<h2 id=\"客户端配置\"><a class=\"anchor\" href=\"#客户端配置\">#</a> 客户端配置</h2>\n<p>下载客户端并安装后，在 <code>设置</code>  --&gt; <code>网络</code>  --&gt; <code>解锁网络设置</code> 后，填写 <code>ID服务器</code> 和 <code>Key</code> ，<br />\n填写内容见上面关于 <code>command: hbbs -r rust.test.com:21117 -k _</code> 的讲解 (如果你使用的为默认的 21117 端口，可不填端口号)：<br />\n<img data-src=\"https://ypy.moehz.com/img20240624102038.png\" alt=\"image.png\" /></p>\n<p>回到主页，如果左下角看到 <code>就绪</code> ，就代表连接正常了<br />\n<img data-src=\"https://ypy.moehz.com/img20240624102307.png\" alt=\"image.png\" /></p>\n<h2 id=\"功能展示\"><a class=\"anchor\" href=\"#功能展示\">#</a> 功能展示</h2>\n<p><img data-src=\"https://ypy.moehz.com/img20240624102447.png\" alt=\"image.png\" /><br />\n 基本的功能都有：</p>\n<ol>\n<li>可以配置原始尺寸和适应窗口</li>\n<li>画质可以选择画质优先，平衡，速度优先，自定义四种</li>\n<li>编解码支持自动，VP8,VP9,AV1,H264,H265</li>\n<li>分辨率不作限制，测试 4k 问题不大，主要看你的网络延迟，延迟大可以调节为 1080P 或者更低</li>\n<li>其他功能见图以及自行探索配置，不做赘述</li>\n</ol>\n",
            "tags": [
                "linux",
                "linux",
                "docker"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/Unraid%207%E5%88%B0%E6%9D%A5%E4%BA%86%EF%BC%81.html",
            "url": "https://blog.moehz.com/archives/Unraid%207%E5%88%B0%E6%9D%A5%E4%BA%86%EF%BC%81.html",
            "title": "Unraid 7到来了！",
            "date_published": "2024-07-17T00:00:00.000Z",
            "content_html": "<p>官方文档：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnVucmFpZC5uZXQvdW5yYWlkLW9zL3JlbGVhc2Utbm90ZXMvNy4wLjAvI3N0b3JhZ2U=\">Version 7.0.0-beta.1 2024-06-26 | Unraid Docs</span></p>\n<p>介于官方文档全英文，可能比较难理解，做一下简单分享</p>\n<h2 id=\"存储相关\"><a class=\"anchor\" href=\"#存储相关\">#</a> 存储相关</h2>\n<h3 id=\"阵列可选\"><a class=\"anchor\" href=\"#阵列可选\">#</a> 阵列可选</h3>\n<p>你现在可以把阵列设置为 “None” 了，允许阵列中不分配硬盘，仅分配给池时启动阵列</p>\n<p>这个之前必须至少分配一个硬盘给阵列才能启动阵列，介于 zfs 的引入和阵列不支持 Trim/Discard 而不建议加入固态，官方做了这样的修改</p>\n<p>这个对希望组全闪 NAS 和全 zfs 的人来说将会是个好消息</p>\n<h3 id=\"共享文件的主副存储都可以设置为池\"><a class=\"anchor\" href=\"#共享文件的主副存储都可以设置为池\">#</a> 共享文件的主副存储都可以设置为池</h3>\n<p>之前主副存储只能是阵列和池，现在主副存储都可以设置为池，你可以在池与池之间使用<strong> Mover</strong> 功能转移文件。</p>\n<p>阵列可以设置为空的附属功能，应用场景：机械建立 zfs 池，固态建立 cache，主存储使用固态加速，副存储为 zfs 池，定期迁移以同时满足高速和可靠性。</p>\n<h3 id=\"可以用mover清空单个硬盘\"><a class=\"anchor\" href=\"#可以用mover清空单个硬盘\">#</a> 可以用 Mover 清空单个硬盘</h3>\n<p>命令如下：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mover start -e diskN <span class=\"token operator\">|&amp;</span> logger <span class=\"token operator\">&amp;</span>  <span class=\"token comment\"># N 为盘号 [1..28]</span></pre></td></tr></table></figure><p>其实有没有可以，有个插件做的更好，<strong>unbalanced</strong>，你说是不是？</p>\n<h3 id=\"系统文件预设\"><a class=\"anchor\" href=\"#系统文件预设\">#</a> 系统文件预设</h3>\n<p>一些跟系统运行，Docker，VM 虚拟机相关的共享文件夹会自动做一些预设配置<br />\n如果存在 Cache，system，appdata，isos，会被设置为：主存储 cache，不配置副存储，来让系统，docker，虚拟机运行在固态硬盘上，更流畅</p>\n<h3 id=\"zfs\"><a class=\"anchor\" href=\"#zfs\">#</a> ZFS</h3>\n<p>支持混合 ZFS 池<br />\n支持在具有足够保护的情况下从 ZFS 池中多个驱动器故障中恢复<br />\n支持对 ZFS 池和硬盘进行 LUKS 加密<br />\n为新的 ZFS 池和子池设置合理的默认配置文件</p>\n<h3 id=\"其他\"><a class=\"anchor\" href=\"#其他\">#</a> 其他</h3>\n<ul>\n<li>同时启停池中的硬盘</li>\n<li>增加了为 LUKS 加密磁盘更改加密短语 / 密钥的功能</li>\n<li>在创建 GPT 分区表和通知内核重新读取之间引入延迟，以防止 “设备或资源繁忙” 错误。</li>\n<li>正确导入在以前版本中创建的池</li>\n<li>修复了当被替换的硬盘碰巧有 LUKS Header 时的错误</li>\n<li>修正与 ZFS 卷相关的 highwater 分配方法</li>\n<li>当空间不足导致创建对象失败，输出 syslog 消息</li>\n</ul>\n<h2 id=\"vm管理器\"><a class=\"anchor\" href=\"#vm管理器\">#</a> VM 管理器</h2>\n<p>增加了虚拟机克隆，快照，evdev 直通的功能</p>\n<p>虚拟机的配置 xml 会根据 GUI 配置实时更改</p>\n<h3 id=\"其他-2\"><a class=\"anchor\" href=\"#其他-2\">#</a> 其他</h3>\n<ul>\n<li>VM 选项卡\n<ul>\n<li>增加对 VM 克隆，快照的支持</li>\n<li>增加对快照和恢复的日志</li>\n<li>增加对 VM 的文件系统级快照</li>\n<li>显示给虚拟机分配的显卡和 IP 地址</li>\n<li>支持用户自定义虚拟机模板</li>\n<li>对 CD 信息功能增加启动检查</li>\n<li>链接 <code>/usr/libexec/virtiofsd</code>  到特定脚本，以支持不被 libvirt 直接支持的额外参数</li>\n<li>显示虚拟机虚拟磁盘大于 1TB 时的小数位</li>\n</ul>\n</li>\n<li>虚拟机设定\n<ul>\n<li>自动启动选项</li>\n</ul>\n</li>\n<li>增加 / 编辑 VM 模板\n<ul>\n<li>增加 inline xml view 选项</li>\n<li>增加 qemu ppc64</li>\n<li>支持 qemu:override</li>\n<li>增加 QEMU command-line passthrough</li>\n<li>增加 VM 多功能支持，比如 PCI Other</li>\n<li>windows 虚拟机模板增强，包括 hypervclock 支持</li>\n<li>为模拟 CPU 添加 “migratable” 开 / 关选项</li>\n<li>增加偏移和定时器支持</li>\n<li>如果 hyperv 发生变化，则更改新 VM 的定时器默认值</li>\n<li>添加 no keymap 选项，并设置 VGPU 默认使用该选项</li>\n<li>增加 nogpu 选项</li>\n<li>增加 WEBUI 选项</li>\n<li>增加对 Intel iGPU 的 SR-IOV 支持</li>\n<li>增加对 evdev 直通的支持</li>\n<li>修复 UUID 在 xml 中改变的问题</li>\n<li>添加指定之前添加 VM 时创建映像的位置的功能</li>\n<li>修复了 QCOW2 文件不在虚拟机路径中显示自动问题，应该是手动</li>\n<li>为虚拟磁盘添加 SSD flag</li>\n<li>XML 窗口适应页面大小</li>\n<li>修复移动设备下的 VM XML 视图</li>\n</ul>\n</li>\n<li>Dashboard\n<ul>\n<li>增加虚拟机使用信息，使能路径为：<strong>Settings &gt; VM Manager &gt; Show VM Usage</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"docker\"><a class=\"anchor\" href=\"#docker\">#</a> Docker</h2>\n<ul>\n<li>允许使用端口规范自定义注册表</li>\n<li>修复 WG 路由添加到正确的接口 (br0 或 eth0 或 bond0)</li>\n<li>使用<strong> lazy unmount</strong> 卸载 docker 镜像，以防止阻塞停止阵列</li>\n<li>解决多个安全问题 (CVE-2024-21626, CVE-2024-24557)</li>\n<li><strong>移除非 dockerman 容器的更新按钮</strong>（终于解决了...）</li>\n<li>修复当 docker 通信失败时的 php 错误</li>\n<li>忽略 Docker 配置文件中的空路径</li>\n</ul>\n<h2 id=\"网络\"><a class=\"anchor\" href=\"#网络\">#</a> 网络</h2>\n<ul>\n<li>解决了在自定义 IPv6 网络上启动 Docker 容器的问题</li>\n<li>如果 network.cfg 不存在，在启动时自动生成</li>\n<li>支持 NFS 4.1 和 4.2</li>\n<li>默认允许 NFSv4 挂载</li>\n<li>升级到 OpenSSL 3</li>\n<li>允许所有 IPv4/IPv6 地址作为监听器。解决了 IPv4 或 IPv6 地址动态变化的问题</li>\n<li>SMB：\n<ul>\n<li>只有在 netbios 未启用的情况下，才能添加 ipv6 侦听地址</li>\n<li>在 MacOS 上修复无法写入’flash’共享并恢复 Time Machine 兼容性（看不明白）</li>\n</ul>\n</li>\n<li>VPN 管理器现在将所有接口加入到 WireGuard 隧道中，当升级或更改网络配置时，可以对隧道进行虚拟更改，以更新 WireGuard 隧道配置。</li>\n</ul>\n<h2 id=\"webui\"><a class=\"anchor\" href=\"#webui\">#</a> WEBUI</h2>\n<blockquote>\n<p>笑死，更新全靠插件</p>\n</blockquote>\n<h3 id=\"集成dynamix-file-manager\"><a class=\"anchor\" href=\"#集成dynamix-file-manager\">#</a> 集成 Dynamix File Manager</h3>\n<p>插件转正，可以通过网页对文件进行一定操作</p>\n<h3 id=\"gui-search\"><a class=\"anchor\" href=\"#gui-search\">#</a> GUI Search</h3>\n<p>插件转正，搜索页面功能</p>\n<h3 id=\"outgoing-proxy-manager\"><a class=\"anchor\" href=\"#outgoing-proxy-manager\">#</a> Outgoing Proxy Manager</h3>\n<p>插件转正，国人用 Unraid 必备的代理工具</p>\n<h3 id=\"notification-agents\"><a class=\"anchor\" href=\"#notification-agents\">#</a> Notification Agents</h3>\n<p>插件转正，通知代理的 xml 储存为单独的文件，使得更容易的增加通知代理</p>\n<h3 id=\"ntp-configuration\"><a class=\"anchor\" href=\"#ntp-configuration\">#</a> NTP Configuration</h3>\n<p>不解释了，官方写了一大篇，其实就是自定义时间服务器</p>\n<h3 id=\"dashboard\"><a class=\"anchor\" href=\"#dashboard\">#</a> Dashboard</h3>\n<ul>\n<li>添加服务器日期和时间到仪表板，单击时间编辑相关设置</li>\n<li>重做 “系统” 磁贴，让正在显示的内容更清晰，包括工具提示</li>\n<li>显示有用的内容时，仪表板磁砖最小化（啥东西？）</li>\n<li>修复浏览器让仪表板可见 cookie 处于畸形状态的问题</li>\n<li>切换语言时，重置仪表板磁贴</li>\n<li>修复低温时提示高温警告的问题</li>\n<li>一些颜色调整</li>\n</ul>\n<h3 id=\"smart-improvements\"><a class=\"anchor\" href=\"#smart-improvements\">#</a> SMART improvements</h3>\n<ul>\n<li>以 KB/MB/GB/TB 单位显示 SSD 的 SMART Attributes 中的写入量</li>\n<li>增加 “SSD 寿命剩余” 的 SMART 属性。</li>\n<li>修复 SMART 属性 “累计通电时间，小时：分钟 xxxxx:yy” 的显示问题</li>\n</ul>\n<h3 id=\"其他-3\"><a class=\"anchor\" href=\"#其他-3\">#</a> 其他</h3>\n<ul>\n<li>HDD/SSD/NVMe 硬盘支持不同的警告 / 紧急温度阈值。NVMe 阈值由驱动器本身自动设置，<strong>Settings &gt; Disk Settings</strong> 中设置，每个磁盘可以单独设置覆盖</li>\n<li><strong>Settings &gt; Local Console Settings</strong> 其中包含键盘布局、屏幕空白时间和 Bash 历史记录的选项</li>\n<li>增加 <strong>Settings &gt; Power Mode</strong>，可以配置为 power efficiency, balanced, or performance</li>\n<li>增加收藏功能，可以收藏你常用的工具和设置项</li>\n<li>关机 / 重启增加更多的信息显示</li>\n<li>优化通知显示</li>\n<li><strong>date &amp; time</strong> 位置转移，从<strong> Display Settings</strong> 移到 <strong>Settings &gt; Date &amp; Time Settings</strong></li>\n<li>可选是否显示 NVMe power usage，见<strong> Settings &gt; Disk Settings</strong></li>\n<li>UPC：改进通信许可密钥恢复，可在更多的网络环境中工作</li>\n<li>Web 组件增强 — 降级、更新和注册</li>\n<li>优化页脚阵列状态显示</li>\n<li>允许社区应用程序 (如果安装) 在进行多安装时自动启动容器</li>\n<li>数个样式更改</li>\n<li>防止将新硬盘格式化为 ReiserFS</li>\n<li>当没有挂载的阵列磁盘时，关闭 “添加共享” 按钮</li>\n<li>ShareEdit page 改进</li>\n<li>对配置文件的更新采用 atomic writes</li>\n<li>ZFS 池设置：\n<ul>\n<li>创建有意义的 ZFS 子池描述</li>\n<li>文本修改，'raid0' 更改为'stripe'</li>\n</ul>\n</li>\n<li>池替换设备时，提供警告文本</li>\n<li>Lincstation N1 添加图标</li>\n<li>添加文本框以配置多行 NFS 规则</li>\n<li>修复登录时的 500 报错 / 修复在空文件上读取文件</li>\n<li>从 /mnt/ 上的下拉列表中排除某些文件夹</li>\n<li>检测 curl error 23 并恢复</li>\n<li>修复如果使用默认端口，IPv6 不能再 Management Access 页面正确显示的问题</li>\n<li>允许在启动时选择文件系统类型，仅适用于文件系统类型当前设置为 “自动” 的不可挂载设备。</li>\n<li>添加额外的 USB 硬盘 smartmontools 选项到 webgui</li>\n<li>解决数个 PHP8 警告</li>\n<li>在 btrfs/zfs 冗余池中，以前丢失的设备设备应该显示为 “disabled”，而不是 “missing”</li>\n<li>向 btrfs 池添加更多信息，并添加更多用户友好的 xfs 修复</li>\n<li>管理访问：修复错误的 ip 地址显示</li>\n<li>为插件安装 / 更新添加日期和时间信息</li>\n<li>反馈表单：将 DONE 按钮更改为 CANCEL</li>\n<li>UPS 设置页面：\n<ul>\n<li>增加手动设置 UPS 容量覆盖功能</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"diagnostics\"><a class=\"anchor\" href=\"#diagnostics\">#</a> Diagnostics</h2>\n<ul>\n<li>将 gpu_statistics 中的 gpujson 添加到 diagnostics 中</li>\n<li>改进了 LXC 日志的匿名化</li>\n<li>如果安装了 FCP 插件，在诊断过程中执行扫描</li>\n<li>添加 phplog 来识别 PHP 错误</li>\n</ul>\n<h2 id=\"misc\"><a class=\"anchor\" href=\"#misc\">#</a> Misc</h2>\n<ul>\n<li>升级 memtest 为版本 6.20</li>\n<li>删除对过时的 unraid.net 证书的支持</li>\n<li>删除 “UpdateDNS” 功能，因为不再使用过时的非通配符 “<span class=\"exturl\" data-url=\"aHR0cDovL3VucmFpZC5uZXQ=\">unraid.net</span>”SSL 证书</li>\n<li>从 go 脚本中剥离代理信息和 '&amp;'</li>\n<li>Passwd 文件处理修正</li>\n<li>当 avahidaemon 运行时，添加 name.local 到 host 文件</li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL3huLS1ob3N0c2tleXMtdWw2bmY5YzRudzM1YXpvMmVkZzdpLmxpbS10ZWNobm9sb2d5LmNvbQ==\">从 hosts 文件中删除 keys.lim-technology.com</span></li>\n<li>rc.S: 从 XFS 挂载中删除 wsync，以防止 WebGUI 在重 I/O 时在 /boot 上卡住</li>\n<li>修复检测无可用的挂载磁盘的问题</li>\n</ul>\n",
            "tags": [
                "NAS",
                "NAS",
                "UNRAID"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/%E7%8C%AB%E7%9B%98%E6%8A%98%E8%85%BE%E8%AE%B0.html",
            "url": "https://blog.moehz.com/archives/%E7%8C%AB%E7%9B%98%E6%8A%98%E8%85%BE%E8%AE%B0.html",
            "title": "猫盘折腾历程",
            "date_published": "2024-07-17T00:00:00.000Z",
            "content_html": "<p>猫盘作为几十块体验群晖的小玩意，存粹当文件分享服务器还是可以的，功耗可以忽略不记</p>\n<p>但价格上三位数就不值当了，用 x86 设备装是更优的选择</p>\n<p>猫盘性能比较差，单盘位还是 2.5 寸盘，不能当数据主力，重度使用建议配合<strong> Cloud Sync</strong> 加密备份到其他云盘</p>\n<p>记录一下新装猫盘后需要做的操作</p>\n<h2 id=\"三合一修复脚本\"><a class=\"anchor\" href=\"#三合一修复脚本\">#</a> 三合一修复脚本</h2>\n<blockquote>\n<p>LED 灯、硬盘休眠、完美关机 (小猫不支持)</p>\n</blockquote>\n<p>脚本见下：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token shebang important\">#!/bin/sh</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function-name function\">fixhosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">cat</span> <span class=\"token operator\">></span> /etc/hosts <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">\\</span>EOF</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">127.0</span>.0.1\tlocalhost</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>::1\t\tlocalhost</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">127.0</span>.0.1\tDS120j</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>::1\t\tDS120j</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token number\">52.84</span>.166.71 api.themoviedb.org</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">52.84</span>.166.68 api.themoviedb.org</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">18.65</span>.159.31 api.themoviedb.org</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token number\">13.35</span>.0.128 api.themoviedb.org</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token number\">99.84</span>.238.181 image.tmdb.org</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token number\">13.226</span>.254.58 image.tmdb.org</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token number\">65.8</span>.164.121 image.tmdb.org</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token number\">54.192</span>.73.28 image.tmdb.org</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>EOF</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token function-name function\">rc_local_func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"120bak\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token function\">rm</span> /etc/rc.local</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -f /etc/rc.local.bak <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token function\">mv</span> -f /etc/rc.local.bak /etc/rc.local</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -f /etc/rc.local <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token function\">mv</span> -f /etc/rc.local /etc/rc.local.bak</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token function\">cat</span> <span class=\"token operator\">></span> /etc/rc.local <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">\\</span>EOF</pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\">#!/bin/sh</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"R\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x03</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x03</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x03</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token function\">killall</span> -9 synoscsitmonitor</pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token function\">sleep</span> <span class=\"token number\">60</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>/usr/sbin/ntpdate -u ntp1.aliyun.com</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>systemctl stop pkg-scsit-monitor.service</pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"G\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x03</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x03</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x03</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token function\">killall</span> -9 synoscsitmonitor</pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token function\">sleep</span> <span class=\"token number\">60</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>/usr/sbin/ntpdate -u ntp1.aliyun.com</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>systemctl stop pkg-scsit-monitor.service</pre></td></tr><tr><td data-num=\"68\"></td><td><pre></pre></td></tr><tr><td data-num=\"69\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"B\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x03</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x03</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x03</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre><span class=\"token function\">killall</span> -9 synoscsitmonitor</pre></td></tr><tr><td data-num=\"84\"></td><td><pre><span class=\"token function\">sleep</span> <span class=\"token number\">60</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>/usr/sbin/ntpdate -u ntp1.aliyun.com</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>systemctl stop pkg-scsit-monitor.service</pre></td></tr><tr><td data-num=\"87\"></td><td><pre></pre></td></tr><tr><td data-num=\"88\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre></pre></td></tr><tr><td data-num=\"90\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"W\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"93\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"94\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x03</pre></td></tr><tr><td data-num=\"95\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x03</pre></td></tr><tr><td data-num=\"96\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x03</pre></td></tr><tr><td data-num=\"97\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"98\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre></pre></td></tr><tr><td data-num=\"102\"></td><td><pre><span class=\"token function\">killall</span> -9 synoscsitmonitor</pre></td></tr><tr><td data-num=\"103\"></td><td><pre><span class=\"token function\">sleep</span> <span class=\"token number\">60</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>/usr/sbin/ntpdate -u ntp1.aliyun.com</pre></td></tr><tr><td data-num=\"105\"></td><td><pre>systemctl stop pkg-scsit-monitor.service</pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre></pre></td></tr><tr><td data-num=\"109\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"113\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"115\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x72</pre></td></tr><tr><td data-num=\"116\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x72</pre></td></tr><tr><td data-num=\"117\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x72</pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"119\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x37 0x44  </pre></td></tr><tr><td data-num=\"120\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x3a 0x55</pre></td></tr><tr><td data-num=\"121\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x3d 0x66      </pre></td></tr><tr><td data-num=\"122\"></td><td><pre></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x38 0x44</pre></td></tr><tr><td data-num=\"124\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x3b 0x55</pre></td></tr><tr><td data-num=\"125\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x3e 0x66</pre></td></tr><tr><td data-num=\"126\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x39 0x40</pre></td></tr><tr><td data-num=\"127\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x3c 0x40</pre></td></tr><tr><td data-num=\"128\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x3f 0x40</pre></td></tr><tr><td data-num=\"129\"></td><td><pre></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre></pre></td></tr><tr><td data-num=\"134\"></td><td><pre><span class=\"token function\">killall</span> -9 synoscsitmonitor</pre></td></tr><tr><td data-num=\"135\"></td><td><pre><span class=\"token function\">sleep</span> <span class=\"token number\">60</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>/usr/sbin/ntpdate -u ntp1.aliyun.com</pre></td></tr><tr><td data-num=\"137\"></td><td><pre>systemctl stop pkg-scsit-monitor.service</pre></td></tr><tr><td data-num=\"138\"></td><td><pre></pre></td></tr><tr><td data-num=\"139\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre></pre></td></tr><tr><td data-num=\"141\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"X\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"144\"></td><td><pre></pre></td></tr><tr><td data-num=\"145\"></td><td><pre><span class=\"token function\">killall</span> -9 synoscsitmonitor</pre></td></tr><tr><td data-num=\"146\"></td><td><pre><span class=\"token function\">sleep</span> <span class=\"token number\">60</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>/usr/sbin/ntpdate -u ntp1.aliyun.com</pre></td></tr><tr><td data-num=\"148\"></td><td><pre>systemctl stop pkg-scsit-monitor.service</pre></td></tr><tr><td data-num=\"149\"></td><td><pre></pre></td></tr><tr><td data-num=\"150\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>EOF</pre></td></tr><tr><td data-num=\"153\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"120x\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>    <span class=\"token function\">cat</span> <span class=\"token operator\">>></span> /etc/rc.local <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">\\</span>EOF</pre></td></tr><tr><td data-num=\"155\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"K\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre>/usr/bin/systemctl --force poweroff</pre></td></tr><tr><td data-num=\"158\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"159\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"160\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x33</pre></td></tr><tr><td data-num=\"161\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x33</pre></td></tr><tr><td data-num=\"162\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x33</pre></td></tr><tr><td data-num=\"163\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"164\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>EOF</pre></td></tr><tr><td data-num=\"169\"></td><td><pre>  <span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"120d\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"171\"></td><td><pre>    <span class=\"token function\">cat</span> <span class=\"token operator\">>></span> /etc/rc.local <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">\\</span>EOF</pre></td></tr><tr><td data-num=\"172\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"K\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>i2cset -y -f <span class=\"token number\">0</span> 0x45 0x77 0xc6</pre></td></tr><tr><td data-num=\"175\"></td><td><pre><span class=\"token function\">sleep</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre><span class=\"token function\">reboot</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>EOF</pre></td></tr><tr><td data-num=\"179\"></td><td><pre>  <span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"180\"></td><td><pre>  <span class=\"token function\">chmod</span> <span class=\"token number\">755</span> /etc/rc.local</pre></td></tr><tr><td data-num=\"181\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"182\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"183\"></td><td><pre></pre></td></tr><tr><td data-num=\"184\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"185\"></td><td><pre><span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"186\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;33m 如果一直失败，可能是引导方式不同，请另寻高明。  <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"187\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m =================== LonelyGod =================== <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"188\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |                                               | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"189\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |          猫盘群晖DSM7.0三合一修复脚本         | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"190\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |                                               | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"191\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m ================= https://hin.cool ================= <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"192\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;33m             bash catd.sh 120x/120d/120bak             <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"193\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"194\"></td><td><pre></pre></td></tr><tr><td data-num=\"195\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"120x\"</span> -o <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"120d\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"196\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;33m 如果一直失败，可能是引导方式不同，请另寻高明。  <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"197\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m =================== LonelyGod =================== <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"198\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |                                               | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"199\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |          猫盘群晖DSM7.0三合一修复脚本         | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"200\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |                                               | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"201\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m ================= https://hin.cool ================= <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"202\"></td><td><pre>  rc_local_func <span class=\"token variable\">$1</span></pre></td></tr><tr><td data-num=\"203\"></td><td><pre>  fixhosts</pre></td></tr><tr><td data-num=\"204\"></td><td><pre>  <span class=\"token function\">rm</span> -rf /var/log/*</pre></td></tr><tr><td data-num=\"205\"></td><td><pre></pre></td></tr><tr><td data-num=\"206\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/dev/null#/tmp/scemd.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/scemd.conf</pre></td></tr><tr><td data-num=\"207\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/dev/null#/tmp/postgresql.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/postgresql.conf</pre></td></tr><tr><td data-num=\"208\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/var/log/scemd.log#/tmp/scemd.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/scemd.conf</pre></td></tr><tr><td data-num=\"209\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/var/log/postgresql.log#/tmp/postgresql.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/postgresql.conf</pre></td></tr><tr><td data-num=\"210\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/usr/bin/systemctl --force poweroff#/etc/rc.local K#g'</span> /usr/lib/systemd/system/systemd-poweroff.service</pre></td></tr><tr><td data-num=\"211\"></td><td><pre></pre></td></tr><tr><td data-num=\"212\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/buzzeroffcfg=\"0x00\"/buzzeroffcfg=\"0x1b\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"213\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/enable_fan_debug=\"0x0\"/enable_fan_debug=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"214\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_auto_poweron=\"yes\"/support_auto_poweron=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"215\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_buzzer=\"yes\"/support_buzzer=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"216\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_fan=\"yes\"/support_fan=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"217\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_fan_adjust_dual_mode=\"yes\"/support_fan_adjust_dual_mode=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"218\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_led_behavior_v2=\"yes\"/support_led_behavior_v2=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"219\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_power_recovery=\"yes\"/support_power_recovery=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"220\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_wol=\"yes\"/support_wol=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"221\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportrcpower=\"yes\"/supportrcpower=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"222\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportsystemperature=\"yes\"/supportsystemperature=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"223\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportsystempwarning=\"yes\"/supportsystempwarning=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"224\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;33m 成功啦！成功啦！成功啦！立即重启猫盘，Enjoy  it!  <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"225\"></td><td><pre>  <span class=\"token function\">rm</span> -f /root/catd.sh</pre></td></tr><tr><td data-num=\"226\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"227\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"228\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x33</pre></td></tr><tr><td data-num=\"229\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x33</pre></td></tr><tr><td data-num=\"230\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x33</pre></td></tr><tr><td data-num=\"231\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"232\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"233\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"234\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"235\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"236\"></td><td><pre></pre></td></tr><tr><td data-num=\"237\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"120bak\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span></pre></td></tr><tr><td data-num=\"238\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;33m 如果一直失败，可能是引导方式不同，请另寻高明。  <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"239\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m =================== LonelyGod =================== <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"240\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |                                               | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"241\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |          猫盘群晖DSM7.0三合一修复脚本         | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"242\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m |                                               | <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"243\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;31m ================= https://hin.cool ================= <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"244\"></td><td><pre></pre></td></tr><tr><td data-num=\"245\"></td><td><pre>  rc_local_func <span class=\"token variable\">$1</span></pre></td></tr><tr><td data-num=\"246\"></td><td><pre>  <span class=\"token function\">rm</span> -rf /var/log/*</pre></td></tr><tr><td data-num=\"247\"></td><td><pre></pre></td></tr><tr><td data-num=\"248\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/dev/null#/var/log/scemd.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/scemd.conf</pre></td></tr><tr><td data-num=\"249\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/dev/null#/var/log/postgresql.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/postgresql.conf</pre></td></tr><tr><td data-num=\"250\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/tmp/scemd.log#/var/log/scemd.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/scemd.conf</pre></td></tr><tr><td data-num=\"251\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/tmp/postgresql.log#/var/log/postgresql.log#g'</span> /etc.defaults/syslog-ng/patterndb.d/postgresql.conf</pre></td></tr><tr><td data-num=\"252\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s#/etc/rc.local K#/usr/bin/systemctl --force poweroff#g'</span> /usr/lib/systemd/system/systemd-poweroff.service</pre></td></tr><tr><td data-num=\"253\"></td><td><pre></pre></td></tr><tr><td data-num=\"254\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/buzzeroffcfg=\"0x1b\"/buzzeroffcfg=\"0x00\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"255\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/enable_fan_debug=\"no\"/enable_fan_debug=\"0x0\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"256\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_auto_poweron=\"no\"/support_auto_poweron=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"257\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_buzzer=\"no\"/support_buzzer=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"258\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_fan=\"no\"/support_fan=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"259\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_fan_adjust_dual_mode=\"no\"/support_fan_adjust_dual_mode=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"260\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_led_behavior_v2=\"no\"/support_led_behavior_v2=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"261\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_power_recovery=\"no\"/support_power_recovery=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"262\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/support_wol=\"no\"/support_wol=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"263\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportrcpower=\"no\"/supportrcpower=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"264\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportsystemperature=\"no\"/supportsystemperature=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"265\"></td><td><pre>  <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportsystempwarning=\"no\"/supportsystempwarning=\"yes\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"266\"></td><td><pre>  <span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">\"<span class=\"token entity\" title=\"\\e\">\\e</span>[1;33m 成功啦！成功啦！成功啦！立即重启猫盘，Enjoy  it!  <span class=\"token entity\" title=\"\\e\">\\e</span>[0m\"</span></pre></td></tr><tr><td data-num=\"267\"></td><td><pre>  <span class=\"token function\">rm</span> -f /root/catd.sh</pre></td></tr><tr><td data-num=\"268\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x00 0x55</pre></td></tr><tr><td data-num=\"269\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x01 0x01</pre></td></tr><tr><td data-num=\"270\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x31 0x33</pre></td></tr><tr><td data-num=\"271\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x32 0x33</pre></td></tr><tr><td data-num=\"272\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x33 0x33</pre></td></tr><tr><td data-num=\"273\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x30 0x07</pre></td></tr><tr><td data-num=\"274\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x34 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"275\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x35 <span class=\"token number\">128</span></pre></td></tr><tr><td data-num=\"276\"></td><td><pre>  i2cset -y -f <span class=\"token number\">0</span> 0x45 0x36 <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"277\"></td><td><pre><span class=\"token keyword\">fi</span></pre></td></tr><tr><td data-num=\"278\"></td><td><pre>/usr/bin/systemctl daemon-reload</pre></td></tr></table></figure><p>猫盘安装黑裙流程省略，开启 ssh 省略，在 ssh 上切换<strong> root 用户</strong>后执行上述脚本</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 新建一个脚本文件，并复制上述脚本内容</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">vim</span> catd.sh</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 小猫</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">bash</span> catd.sh 120x</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 大猫</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">bash</span> catd.sh 120d</pre></td></tr></table></figure><p>如果终端提示成功，切猫盘灯正常点亮了，证明脚本生效。</p>\n<p>如果有如下提示：<br />\n<img data-src=\"https://ypy.moehz.com/img20240711140527.png\" alt=\"image.png\" /><br />\n 可能是因为 windows 换行符导致的异常，通过</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> -b catd.sh</pre></td></tr></table></figure><p>可以确认是否每一行都有 <code>^M</code> ，如果有使用如下命令解决：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sed</span> -i <span class=\"token string\">'s/<span class=\"token entity\" title=\"\\r\">\\r</span>//g'</span> catd.sh</pre></td></tr></table></figure><h2 id=\"信息中心显示空白修复\"><a class=\"anchor\" href=\"#信息中心显示空白修复\">#</a> 信息中心显示空白修复</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportsystempwarning=\"yes\"/supportsystempwarning=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sed</span> -i <span class=\"token string\">'s/supportsystemperature=\"yes\"/supportsystemperature=\"no\"/g'</span> /etc.defaults/synoinfo.conf</pre></td></tr></table></figure>",
            "tags": [
                "NAS",
                "NAS",
                "群晖",
                "猫盘"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/EVE-NG%E9%95%9C%E5%83%8F%E5%AF%BC%E5%85%A5.html",
            "url": "https://blog.moehz.com/archives/EVE-NG%E9%95%9C%E5%83%8F%E5%AF%BC%E5%85%A5.html",
            "title": "EVE-NG镜像导入",
            "date_published": "2023-09-27T00:00:00.000Z",
            "content_html": "<h2 id=\"1eve-ng镜像类型\"><a class=\"anchor\" href=\"#1eve-ng镜像类型\">#</a> 1.EVE-NG 镜像类型</h2>\n<ul>\n<li>Dynamips：思科设备真实 IOS 镜像，类似 GNS3，电脑 CPU 利用率非常高。</li>\n<li>IOL：IOU 模拟器的镜像，基本完全支持思科设备二、三层功能。</li>\n<li>QEMU：这已经不是镜像文件，而是 KVM 虚拟机安装操作系统后生成的磁盘文件，通常用来模拟 ASAv、ISE、F5、N9K 等设备。每台设备相当于一台虚拟机，相当吃内存资源。</li>\n</ul>\n<h2 id=\"2dynamips导入过程\"><a class=\"anchor\" href=\"#2dynamips导入过程\">#</a> 2.Dynamips 导入过程</h2>\n<h3 id=\"21上传文件\"><a class=\"anchor\" href=\"#21上传文件\">#</a> 2.1. 上传文件</h3>\n<p>镜像保存目录： <code>/opt/unetlab/addons</code></p>\n<ul>\n<li>/dynamips   Dynamips 镜像保存目录</li>\n<li>/iol   IOL 镜像保存目录（运行 IOU 的镜像）</li>\n<li>/qemu   QEMU 镜像（运行 ASAv、ISE、F5 等镜像）</li>\n</ul>\n<p>将 dynamips 镜像上传到 <code>/opt/unetlab/addons/dynamips</code>  目录下</p>\n<h3 id=\"22修正权限\"><a class=\"anchor\" href=\"#22修正权限\">#</a> 2.2. 修正权限</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/opt/unetlab/wrappers/unl_wrapper -a fixpermissions</pre></td></tr></table></figure><h2 id=\"3iol导入过程\"><a class=\"anchor\" href=\"#3iol导入过程\">#</a> 3.IOL 导入过程</h2>\n<p>与 IOL 有关的文件包含</p>\n<ul>\n<li>IOL 的镜像</li>\n<li>iourc 文件（IOL 的 license 文件）</li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL0Npc2NvSU9VS2V5Z2VuLnB5\">CiscoIOUKeygen.py</span>（python 脚本，用于生成 license）</li>\n</ul>\n<h3 id=\"31上传文件\"><a class=\"anchor\" href=\"#31上传文件\">#</a> 3.1. 上传文件</h3>\n<p>全部上传到 <code>/opt/unetlab/addons/iol/bin</code>  目录下</p>\n<h3 id=\"32license生成\"><a class=\"anchor\" href=\"#32license生成\">#</a> 3.2.license 生成</h3>\n<ul>\n<li>方法一<br />\n确保 CiscoIOUKeygen.py 已经上传后，执行命令</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /opt/unetlab/addons/iol/bin/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>python CiscoIOUKeygen.py <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -A <span class=\"token number\">1</span> ‘license’ <span class=\"token operator\">></span> iourc</pre></td></tr></table></figure><p>生成 license 代码</p>\n<ul>\n<li>方法二：手动修改</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>root@eve-ng:~<span class=\"token comment\">#cd/opt/unetlab/addons/iol/bin</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>root@eve-ng:/opt/unetlab/addons/iol/bin<span class=\"token comment\">#ls</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>CiscoIOUKeygen.py</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>i86bi-linux-l2-adventerprisek9-15.1a.bin</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>i86bi-linux-l2-ipbasek9-15.1a.bin</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>i86bi-linux-l2-upk9-12.2.bin</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>i86bi-linux-l2-upk9-15.0a.bin</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>i86bi-linux-l3-adventerprisek9-12.4.bin</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>i86bi-linux-l3-adventerprisek9-15.2.2.15T.bin</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>i86bi-linux-l3-adventerprisek9-15.2.4M1.bin</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>i86bi-linux-l3-adventerprisek9-15.4.1T.bin</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>iourc</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>root@eve-ng:/opt/unetlab/addons/iol/bin<span class=\"token comment\"># pythonCiscoIOUKeygen.py</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>*********************************************************************</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>CiscoIOU License Generator – Kal <span class=\"token number\">2011</span>, python port of <span class=\"token number\">2006</span> Cversion</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Modified to work with python3 by c_d2014</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token assign-left variable\">hostid</span><span class=\"token operator\">=</span>007f0101, <span class=\"token assign-left variable\">hostname</span><span class=\"token operator\">=</span>eve-ng, <span class=\"token assign-left variable\">ioukey</span><span class=\"token operator\">=</span>7f0343</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>Addthe following text to ~/.iourc:</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">[</span>license<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre> </pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>eve-ng<span class=\"token operator\">=</span> 972f30267ef51616<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>Youcan disable the phone home feature with something like:</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>echo‘127.0.0.127 xml.cisco.com’ <span class=\"token operator\">>></span>/etc/hosts</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>root@eve-ng:/opt/unetlab/addons/iol/bin<span class=\"token comment\">#</span></pre></td></tr></table></figure><p>编写 license 文件</p>\n<pre><code>root@eve-ng:/opt/unetlab/addons/iol/bin# vim iourc\n</code></pre>\n<p>把原来的删除掉，重新粘贴新的 license 代码</p>\n<h3 id=\"33修正权限\"><a class=\"anchor\" href=\"#33修正权限\">#</a> 3.3. 修正权限</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/opt/unetlab/wrappers/unl_wrapper -a fixpermissions</pre></td></tr></table></figure><h2 id=\"4qemu导入过程\"><a class=\"anchor\" href=\"#4qemu导入过程\">#</a> 4.QEMU 导入过程</h2>\n<h3 id=\"41上传文件\"><a class=\"anchor\" href=\"#41上传文件\">#</a> 4.1. 上传文件</h3>\n<p>上传的文件类型为： <code>qcow2</code> ，位置是 <code>/opt/unetlab/addons/qemu/</code></p>\n<p>qcow2 可以在 pve 或者 unraid 下转化 vmdk 文件获得，命令参考：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>qemu-img convert -O qcow2 win7.vmdk win7.qcow2</pre></td></tr></table></figure><h3 id=\"42修正权限\"><a class=\"anchor\" href=\"#42修正权限\">#</a> 4.2. 修正权限</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/opt/unetlab/wrappers/unl_wrapper -a fixpermissions</pre></td></tr></table></figure>",
            "tags": [
                "linux",
                "EVE-NG"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/TrueNAS%20k38-nextcloud%E5%AE%B9%E5%99%A8%E4%B8%8B%E7%A2%B0%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98.html",
            "url": "https://blog.moehz.com/archives/TrueNAS%20k38-nextcloud%E5%AE%B9%E5%99%A8%E4%B8%8B%E7%A2%B0%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98.html",
            "title": "TrueNAS k38-nextcloud容器下碰到的一些问题",
            "date_published": "2023-09-27T00:00:00.000Z",
            "content_html": "<h2 id=\"如何执行occ\"><a class=\"anchor\" href=\"#如何执行occ\">#</a> 如何执行 occ</h2>\n<h3 id=\"确定容器的名字\"><a class=\"anchor\" href=\"#确定容器的名字\">#</a> 确定容器的名字</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>root@truenas<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>CONTAINER ID   IMAGE               COMMAND                  CREATED          STATUS          PORTS     NAMES</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>6ecd1e2ac244   093e7ccba7e4        <span class=\"token string\">\"/entrypoint.sh apac…\"</span>   <span class=\"token number\">46</span> minutes ago   Up <span class=\"token number\">46</span> minutes             k8s_nextcloud_nextcloud-5c494664f5-zs4xd_ix-nextcloud_cd216bc2-4fc4-420d-a80c-cdd234bb198d_0</pre></td></tr></table></figure><p>这里会有一堆 nextcloud 相关的容器出现，只关注 <code>k8s_nextcloud</code>  开头的第一个容器就行，复制下这个名字或者 ID（ID 比较好，名字太长了），后面会用</p>\n<h3 id=\"执行occ\"><a class=\"anchor\" href=\"#执行occ\">#</a> 执行 occ</h3>\n<blockquote>\n<p>命令中的容器 ID 注意换成自己的，ID 也可以不用输完整，只要不和别的冲突就行，比如 ID：6ecd1e2ac244，我可以只写 6ecd1</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 以修复索引的 occ 命令为例</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>root@truenas<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec 6ecd1 --user www-data  php occ db:add-missing-indices</span></pre></td></tr></table></figure><h2 id=\"解决提示php-imagick没有svg-support\"><a class=\"anchor\" href=\"#解决提示php-imagick没有svg-support\">#</a> 解决提示 php-imagick 没有 SVG support</h2>\n<p>跟上面一样，首先得确认容器名，然后执行下述命令</p>\n<blockquote>\n<p>注意容器 ID 需要改成自己的</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>root@truenas<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec 6ecd1 apt -y update </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>root@truenas<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec 6ecd1 apt -y install libmagickcore-6.q16-6-extra</span></pre></td></tr></table></figure><h2 id=\"添加外部文件到nextcloud\"><a class=\"anchor\" href=\"#添加外部文件到nextcloud\">#</a> 添加外部文件到 nextcloud</h2>\n<blockquote>\n<p>将本地文件直接放入 nextcloud 目录中，nextcloud 不会直接显示，因为数据库没有相应文件，需要执行扫描命令</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>root@truenas<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec --user www-data 6ecd1 php occ files:scan --all</span></pre></td></tr></table></figure><h2 id=\"部分优化配置\"><a class=\"anchor\" href=\"#部分优化配置\">#</a> 部分优化配置</h2>\n<h3 id=\"设置定时任务\"><a class=\"anchor\" href=\"#设置定时任务\">#</a> 设置定时任务</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>root@truenas<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span><span class=\"token comment\"># crontab -u www-data -e </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>no <span class=\"token function\">crontab</span> <span class=\"token keyword\">for</span> www-data - using an empty one</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Select an editor.  To change later, run <span class=\"token string\">'select-editor'</span><span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token number\">1</span>. /bin/nano        <span class=\"token operator\">&lt;</span>---- easiest</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token number\">2</span>. /usr/bin/mcedit</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token number\">3</span>. /usr/bin/vim.tiny</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Choose <span class=\"token number\">1</span>-3 <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>: <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>crontab: installing new <span class=\"token function\">crontab</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 选择你习惯的编辑工具进行编辑，在打开的编辑器中加入下述命令</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>*/15 * * * * docker <span class=\"token builtin class-name\">exec</span> --user www-data 6ecd1 php cron.php</pre></td></tr></table></figure>",
            "tags": [
                "NAS",
                "NAS",
                "TrueNAS",
                "容器"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/Unraid%E5%95%86%E5%BA%97%E8%AE%BF%E9%97%AE%E4%BC%98%E5%8C%96.html",
            "url": "https://blog.moehz.com/archives/Unraid%E5%95%86%E5%BA%97%E8%AE%BF%E9%97%AE%E4%BC%98%E5%8C%96.html",
            "title": "Unraid商店访问优化",
            "date_published": "2023-09-27T00:00:00.000Z",
            "content_html": "<h2 id=\"1-修改host\"><a class=\"anchor\" href=\"#1-修改host\">#</a> 1. 修改 host</h2>\n<p>将下述命令加入开机脚本，脚本位置： <code>/boot/config/go</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">wget</span> -qO - https://raw.hellogithub.com/hosts <span class=\"token operator\">|</span> <span class=\"token function\">cat</span> - <span class=\"token operator\">>></span> /etc/hosts</pre></td></tr></table></figure><h2 id=\"2-设置docker镜像\"><a class=\"anchor\" href=\"#2-设置docker镜像\">#</a> 2. 设置 docker 镜像</h2>\n<p>在 <code>/boot/config/go</code>  中加入下面这段：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> -p /etc/docker</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">tee</span> /etc/docker/daemon.json <span class=\"token operator\">&lt;&lt;-</span><span class=\"token string\">'EOF'</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>&#123;</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  \"registry-mirrors\": [\"https://xxxx.mirror.aliyuncs.com\"]</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>&#125;</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>EOF</span></pre></td></tr></table></figure><p><code>https://xxxx.mirror.aliyuncs.com</code>  更换成你需要加速的镜像源，我这里使用的是阿里云申请的镜像源，不展示了</p>\n",
            "tags": [
                "NAS",
                "NAS",
                "UNRAID"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/%E7%BE%A4%E6%99%96%E6%8C%82%E8%BD%BDunraid%E6%96%87%E4%BB%B6%E5%A4%B9.html",
            "url": "https://blog.moehz.com/archives/%E7%BE%A4%E6%99%96%E6%8C%82%E8%BD%BDunraid%E6%96%87%E4%BB%B6%E5%A4%B9.html",
            "title": "群晖挂载unraid文件夹",
            "date_published": "2023-09-27T00:00:00.000Z",
            "content_html": "<h2 id=\"1开启群晖nfs服务\"><a class=\"anchor\" href=\"#1开启群晖nfs服务\">#</a> 1. 开启群晖 NFS 服务</h2>\n<p>控制面板 --&gt; 文件服务 --&gt;NFS，打勾启用 NFS 服务<br />\n<img data-src=\"https://ypy.moehz.com/img/20230923102211.png\" alt=\"image.png\" /></p>\n<h2 id=\"2开启unraidnfs服务\"><a class=\"anchor\" href=\"#2开启unraidnfs服务\">#</a> 2. 开启 unraidNFS 服务</h2>\n<p>SETTINGS--&gt;NFS，将 Enable NFS 改为 YES<br />\n<img data-src=\"https://ypy.moehz.com/img/20230923102358.png\" alt=\"image.png\" /></p>\n<h2 id=\"3unraid配置需要被挂载的文件夹\"><a class=\"anchor\" href=\"#3unraid配置需要被挂载的文件夹\">#</a> 3.unraid 配置需要被挂载的文件夹</h2>\n<p>进入文件夹，下拉到 NFS Security Settings，</p>\n<pre><code>Export：选Yes \nSecurity：private\nRule：192.168.2.170(sec=sys,rw,sync,no_subtree_check,no_root_squash,anongid=100,anonuid=1000)\n</code></pre>\n<p><strong>这里 192.168.2.170 是群晖的 IP，请根据实际情况修改</strong><br />\n<img data-src=\"https://ypy.moehz.com/img/20230923102648.png\" alt=\"image.png\" /></p>\n<h2 id=\"4群晖挂载unraid目录\"><a class=\"anchor\" href=\"#4群晖挂载unraid目录\">#</a> 4. 群晖挂载 unraid 目录</h2>\n<p>File Station--&gt; 工具 --&gt; 装载远程文件夹 --&gt;NFS 共享文件夹<br />\n<img data-src=\"https://ypy.moehz.com/img/20230923103058.png\" alt=\"image.png\" /></p>\n<p>填入各项信息</p>\n<pre><code>文件夹：192.168.2.233:/mnt/user/Data\n</code></pre>\n<blockquote>\n<p>其中 <code>192.168.2.233</code>  为 unraid 的 IP, <code>/mnt/user/Data</code>  为挂载的路径，需按实际情况调整；版本，协议保持默认，装载路径自行选择</p>\n</blockquote>\n<p><img data-src=\"https://ypy.moehz.com/img/20230923103443.png\" alt=\"image.png\" /></p>\n",
            "tags": [
                "NAS",
                "NAS",
                "群晖"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/unraid%E5%AF%BC%E5%85%A5ova%E8%99%9A%E6%8B%9F%E6%9C%BA.html",
            "url": "https://blog.moehz.com/archives/unraid%E5%AF%BC%E5%85%A5ova%E8%99%9A%E6%8B%9F%E6%9C%BA.html",
            "title": "unraid导入ova虚拟机",
            "date_published": "2023-09-25T00:00:00.000Z",
            "content_html": "<h2 id=\"1上传ova文件\"><a class=\"anchor\" href=\"#1上传ova文件\">#</a> 1. 上传 ova 文件</h2>\n<ol>\n<li>建立一个虚拟机后，删除硬盘，可以看到 domain 下面多出一个文件夹</li>\n<li>在该文件夹下上传 ova 文件</li>\n</ol>\n<h2 id=\"2转化文件\"><a class=\"anchor\" href=\"#2转化文件\">#</a> 2. 转化文件</h2>\n<h3 id=\"21解压缩\"><a class=\"anchor\" href=\"#21解压缩\">#</a> 2.1. 解压缩</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> -xvf EVE-NG.ova</pre></td></tr></table></figure><h3 id=\"22转化虚拟磁盘\"><a class=\"anchor\" href=\"#22转化虚拟磁盘\">#</a> 2.2. 转化虚拟磁盘</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>qemu-img convert -O qcow2 EVE-NG.vmdk EVE-NG.qcow2</pre></td></tr></table></figure><h2 id=\"3-挂载虚拟磁盘\"><a class=\"anchor\" href=\"#3-挂载虚拟磁盘\">#</a> 3. 挂载虚拟磁盘</h2>\n<p><img data-src=\"https://ypy.moehz.com/img/20230925184328.png\" alt=\"image.png\" /></p>\n",
            "tags": [
                "NAS",
                "NAS",
                "UNRAID",
                "虚拟机"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/github_apps.html",
            "url": "https://blog.moehz.com/archives/github_apps.html",
            "title": "github上的一些好用的软件",
            "date_published": "2022-07-23T00:00:00.000Z",
            "content_html": "<blockquote>\n<p>都是一些我比较喜欢用的，分享给大家<br />\n封面图：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucGl4aXYubmV0L2FydHdvcmtzLzgzMzE2NTEzJUVGJUJDJThDJUU0JUJEJTlDJUU4JTgwJTg1JUVGJUJDJTlB\">https://www.pixiv.net/artworks/83316513，作者：</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucGl4aXYubmV0L3VzZXJzLzMzNTU4NzA1\">画师 JW</span></p>\n</blockquote>\n<h1 id=\"windows应用\"><a class=\"anchor\" href=\"#windows应用\">#</a> WINDOWS 应用</h1>\n<h2 id=\"twinkle-tray\"><a class=\"anchor\" href=\"#twinkle-tray\">#</a> twinkle-tray</h2>\n<p><img data-src=\"https://ypy.moehz.com/img202207231236378.png#vwid=664&amp;vhei=377\" alt=\"\" /></p>\n<p>URL: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3hhbmRlcmZyYW5nb3MvdHdpbmtsZS10cmF5\">https://github.com/xanderfrangos/twinkle-tray</span></p>\n<p>你可以直接通过这个软件直接进行显示屏的亮度调节，而不需要按显示器的控制按钮。它的功能如下：</p>\n<ul>\n<li>定时亮度调节</li>\n<li>通过快捷键或者软件中的按钮一键关闭屏幕</li>\n<li>调节对比度</li>\n<li>音量调节</li>\n</ul>\n<p>这款软件的图标和界面都和 windows 原生的风格非常一致，安装后就像系统内置的功能一样。需要注意的是这款软件通过 DDC/CI 直接控制显示器的参数，所以需要你的显示器支持 DDC/CI 并开启。<br />\n<img data-src=\"https://ypy.moehz.com/img202207231239449.png#vwid=1791&amp;vhei=1260\" alt=\"\" /></p>\n<p>个人觉得，最好用的功能是可以定时调节亮度，我会设置白天 80% 的亮度，晚上自动降低到 30% 的亮度，好让白天使用体验好，晚上不伤眼。<br />\n<img data-src=\"https://ypy.moehz.com/img202207231238970.png#vwid=1791&amp;vhei=1260\" alt=\"\" /></p>\n<hr />\n<h2 id=\"picgo\"><a class=\"anchor\" href=\"#picgo\">#</a> PicGo</h2>\n<p><img data-src=\"https://ypy.moehz.com/img202207231239116.png#vwid=1402&amp;vhei=790\" alt=\"\" /></p>\n<p>URL：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vbHVuZXJmaW5uL1BpY0dvLw==\">https://github.com/Molunerfinn/PicGo/</span></p>\n<p>这个就不多说了，多平台的图床软件，懂的都懂</p>\n<hr />\n<h2 id=\"motrix\"><a class=\"anchor\" href=\"#motrix\">#</a> Motrix</h2>\n<p><img data-src=\"https://ypy.moehz.com/img/202207231242592.png#vwid=876&amp;vhei=688\" alt=\"\" /></p>\n<p>URL：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FnYWx3b29kL01vdHJpeA==\">https://github.com/agalwood/Motrix</span></p>\n<p>Motrix 是一款好看的多平台下载器，支持下载 HTTP、FTP、BT、磁力链等资源。通过内置的 Aria2 实现多线程下载，也可以配合浏览器插件接管下载。<br />\n<img data-src=\"https://ypy.moehz.com/img/202207231327529.png#vwid=1265&amp;vhei=948\" alt=\"\" /><br />\n界面比较美观，不想用破解软件或者国产毒瘤的可以尝试一下。</p>\n<hr />\n<h2 id=\"pomotroid\"><a class=\"anchor\" href=\"#pomotroid\">#</a> pomotroid</h2>\n<p><img data-src=\"https://ypy.moehz.com/img/202207231247793.png#vwid=1302&amp;vhei=775\" alt=\"\" /></p>\n<p>URL：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1NwbG9kZS9wb21vdHJvaWQ=\">https://github.com/Splode/pomotroid</span></p>\n<p>一款简单好用的番茄钟软件，我用来配合升降桌提醒自己站立交替的，大家也可以用来提醒自己喝水啊，学习间隔提醒自己休息一下呀之类的。</p>\n<hr />\n<h2 id=\"steam\"><a class=\"anchor\" href=\"#steam\">#</a> steam++</h2>\n<p><img data-src=\"https://ypy.moehz.com/img/202207231306594.png#vwid=1661&amp;vhei=1242\" alt=\"\" /></p>\n<p>URL: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0JleW9uZERpbWVuc2lvbi9TdGVhbVRvb2xz\">https://github.com/BeyondDimension/SteamTools</span></p>\n<p>自从 steam 出了中国特色版后，网络问题就越发严重，好友出不来，创意工坊进不去，商店时而进不去，各种错误代码接踵而来...</p>\n<p>如果你也曾被这些问题困扰，那么这款软件推荐给你，让你告别各种错误代码。并且它的网络加速不仅针对 steam，你还可以用它来解决 origin,Uplay,Epic,github,pixiv，各种国外网盘，国外验证码等等打不开的网络问题。</p>\n<p>此外，它的功能还不止于此，它还支持：</p>\n<ul>\n<li>多 steam 账号的一键登录，离线登录等</li>\n<li>本地令牌</li>\n<li>自动挂卡<br />\n总之，强烈安利给大家</li>\n</ul>\n<hr />\n<h1 id=\"mac软件\"><a class=\"anchor\" href=\"#mac软件\">#</a> MAC 软件</h1>\n<h2 id=\"playcover\"><a class=\"anchor\" href=\"#playcover\">#</a> PlayCover</h2>\n<p><img data-src=\"https://ypy.moehz.com/img/202207231250527.png#vwid=1287&amp;vhei=929\" alt=\"\" /></p>\n<p>URL：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1BsYXlDb3Zlci9QbGF5Q292ZXI=\">https://github.com/PlayCover/PlayCover</span></p>\n<p>如果你也使用新款的 Apple slic 的 macbook，这是一款你绝对不容错过的 app。众所周知，因为苹果不可告人的原因，他们又侧载安装 ios 应用的功能封掉了，自某版本起就不能直接安装 ios 应用了。</p>\n<p>因为鄙人当时玩原神，寻找了一下发现了这个软件。你可以借助它，安装未在 mac 应用商店上架的 IOS 应用，比如原神，我测试运行画质还不错，且支持键盘映射和手柄，我是通过手柄游玩的，还是挺舒服的。</p>\n<p><s>虽然我早就弃坑了</s>，但有需要的人推荐使用该 APP</p>\n<hr />\n<h2 id=\"monitorcontrol\"><a class=\"anchor\" href=\"#monitorcontrol\">#</a> MonitorControl</h2>\n<p><img data-src=\"https://ypy.moehz.com/img/202207231258951.png#vwid=1430&amp;vhei=1271\" alt=\"\" /></p>\n<p>URL：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vbml0b3JDb250cm9sL01vbml0b3JDb250cm9s\">https://github.com/MonitorControl/MonitorControl</span></p>\n<p>界面简洁美观，与 mac 系统融合度很高。功能类似于 windows 下的 twinkle-tray，用来调节屏幕亮度和音量。因为苹果原生的亮度调节对大多数外接的显示器是不起作用的，借助这个软件才能方便的调节，推荐给需要的小伙伴。</p>\n",
            "tags": [
                "software",
                "github",
                "WIN",
                "MAC"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/ACSD.html",
            "url": "https://blog.moehz.com/archives/ACSD.html",
            "title": "ACS Discovery",
            "date_published": "2022-06-28T00:00:00.000Z",
            "content_html": "<p>原文链接：<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5xYWNhZmUuY29tL2tub3dsZWRnZWJhc2UvdHItMDY5LXRyYWluaW5nLXNlcmllcy1hY3MtZGlzY292ZXJ5Lw==\">http://www.qacafe.com/knowledgebase/tr-069-training-series-acs-discovery/</span></p>\n<p>In TR-069, the CPE is always initiates a session. When making first contact with an ACS, how does it know the ACS URL it is supposed to contact?</p>\n<p>There are 3 mechanisms suggested in TR-069 to do this.</p>\n<p>The first is that the CPE has its bootstrap ACS pre-configured by factory default. This is usually the case with CPE that are deployed by a service provider.</p>\n<p>The second mechanism involves the ACS URL being configured through a local protocol that has access to the CWMP data model, such as UPnP as defined in TR-064. Service providers may do this with a technician or through some local software installation for the Broadband Subscriber.</p>\n<p>The third mechanism is using DHCP options to configure the ACS URL.</p>\n<h2 id=\"dhcp-discovery-of-the-acs-url\"><a class=\"anchor\" href=\"#dhcp-discovery-of-the-acs-url\">#</a> DHCP Discovery of the ACS URL</h2>\n<p>Lastly, <strong>TR-069 defines a mechanism for using DHCP options to configure the ACS URL.</strong></p>\n<p>When a CPE comes online, the DHCP server that assigns its IP address can provide the ACS URL in certain DHCP options.<br />\n<img data-src=\"https://ypy.moehz.com/img/20220628155512.png\" alt=\"\" /></p>\n<p>A CPE can announce that it supports this capability in its DHCP DISCOVER message by including a special string anywhere in the DHCP Vendor Class Identifier Option 60, or in the DHCP V-I Vendor Class Option 124.</p>\n<p>If the CPE supports IPv6, it can use the DHCPv6 Vendor Class Option 16.</p>\n<p>Additionally, the CPE can include DHCP option 55 to specify whether it prefers to receive the URL in DHCP option 43 or option 125.</p>\n<p>The DHCP server then responds with the URL of the ACS specified in DHCP option 43, 125, or both in its DHCP OFFER message.<br />\n<img data-src=\"https://ypy.moehz.com/img/20220628155531.png\" alt=\"\" /><br />\nIf the server sends both, the CPE must use the URL specified in the option it requested. If it didn’t request a specific option, it must use the URL given in option 43.</p>\n<p>Typically, a CPE armed with its new ACS URL starts a CWMP session with the new ACS, sending an Inform with the BOOTSTRAP event. This triggers the ACS to recognize the new CPE and begin initial configuration.</p>\n",
            "tags": [
                "网络",
                "TR069",
                "TR069",
                "ACS"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/KTC_G42P5.html",
            "url": "https://blog.moehz.com/archives/KTC_G42P5.html",
            "title": "使用一款42寸OLED显示器是什么体验",
            "date_published": "2022-06-25T00:00:00.000Z",
            "content_html": "<p>最近我购买了 KTC—G42P5 显示器，是一块 OLED 的 42 寸显示器，我已经使用了 10 天左右了，来谈谈它的使用体验。</p>\n<h2 id=\"规格\"><a class=\"anchor\" href=\"#规格\">#</a> 规格</h2>\n<p>先说说硬件规格：</p>\n<ul>\n<li>4K 分辨率 138Hz 刷新率（默认 120hz 可在 osd 菜单开启超频至 138Hz 选项）</li>\n<li>42 寸 LG WEBE OLED 面板</li>\n<li>得益于 oled 面板，GtG 响应 0.1ms</li>\n<li>支持 Freesync、G-Sync 兼容</li>\n<li>色域：99% P3；89% ARGB；100% SRGB（支持色域限缩）</li>\n<li>号称经过单台校准，ΔE&lt;2</li>\n<li>2 个 8W 的内置音箱</li>\n</ul>\n<p>这个显示器的显示规格基本是拉满的，由于 OLED 天然的超低响应速度，在玩一些游戏时会有一定帮助（虽然对我来说意义不大）。这篇主要讲我使用过程中遇到的一些惊喜或者问题，不会从专业角度对它进行测评，仅作为用户使用角度出发，可能出现偏差或者错误。</p>\n<p>其实现在有不少发烧友选择使用 LG C1/C2 面板的小尺寸电视作为电脑显示器，相较于这台显示器，有各种 HDR 认证，GYSNC 认证，大厂调教等优势，缺点就是接口上不丰富了。所以先来谈谈接口，它支持 2 个 HDMI 2.1（不是满血的，但支持到 4k 138hz 的带宽是够的），1 个 DP 接口，1 个支持 90W 反充的 typec 接口。USB 方面也配备了一个 USB 上行，2 个 USB 下行接口，可以用于实现 KVM。下面我来逐个谈谈各种接口的使用体验。</p>\n<h2 id=\"接口上的体验报告\"><a class=\"anchor\" href=\"#接口上的体验报告\">#</a> 接口上的体验报告</h2>\n<p>首先大概说一下测试使用的连接设备，是我几年前配的一台电脑，cpu 是 9900k，显卡矿潮时卖了，最近显卡价格回落，买了盈通 3080 花嫁，测试这台显示器应该问题不大。DP 连接电脑可以同时开启 4K 138hz 10bit 色深 HDR Freesync，DP 还是挺稳定的，没有太多好说的。</p>\n<p>HDMI 2.1 一般是用于游戏机，我既没有 PS5 也没 XBOX，所以懒得测了。下面谈谈 type c 接口吧，对接的测试设备是 macbook air m1 版本，连接后可以正常充电以及显示画面。4k，138hz 刷新，HDR 都是正常的，但是它存在很多兼容性的小问题。首先它不能通过显示器的音箱播放声音，一旦选择了由显示器发声，无论网络流媒体还是本地视频，都会播放不停的加速，几秒钟就播完，且没有声音或者有异常声音，系统里选择使用笔记本的音响播放就正常。这在我的另一台支持 typec 一线通的 IPS 显示器上没有发生过。然后还有一个问题，是在 mac 里对显示器做好设置后，每次重新连接都会被恢复，需要重新配置，这个不知道是 macOS 的锅，还是显示器的锅，以前没有注意过。</p>\n<p>USB 接口需要跟 KVM 一起讲，首先功能是正常的，但是体验并不好。KVM 最佳的体验是我视频输入源切换成哪台设备，USB 设备就自动切到哪台设备。但是 KTC 的这台显示器并不能自动切换，需要手动选择。然后显示器 KVM 有个通病，如果接蓝牙鼠标，会时不时出现卡顿，可能是显示器存在干扰，总之体验不是很好。</p>\n<h2 id=\"屏幕上的体验报告\"><a class=\"anchor\" href=\"#屏幕上的体验报告\">#</a> 屏幕上的体验报告</h2>\n<p>开启 HDR 后效果是真的好，这块 LG 的 OLED 面板 10% 的窗口亮度可以达到 700nit，虽然跟 mini led 相比亮度远远不如，但是 OLED 是完全没有光晕的。得益于可以关闭像素点显示黑色，有超高对比度，所以即使只有 700nit，也能很好的播放 HDR 片源或者游玩 HDR 游戏，效果一般都会超过 Miniled。可以说 OLED 除去寿命问题，是目前最优的显示方案。</p>\n<p>但是，它作为电脑显示器来说，存在许多痛点，至少 KTC 这台显示器上存在。以下为我使用发现的问题</p>\n<ul>\n<li>为了防止烧屏，加入像素偏移功能，导致边缘的图案（比如桌面应用图标）可能会移出屏幕外而看不到</li>\n<li>也是为了防止烧屏，当全屏白色区域过大时，会突然降亮度</li>\n<li>还是为了防止烧屏，即使你使用 windows 黑色主题，黑色壁纸，当没有大范围画面变动的时候，它还是会慢慢降低亮度，最后关闭屏幕防烧屏<br />\n还有一些你自己为了防烧屏，做的一些为难自己的操作，比如设置任务栏自动隐藏，使用黑色主题，设置暗色调动态壁纸，浏览器使用插件让网页背景变成黑色等等。总之等于请了个大爷回家，得小心伺候着。特别是以上列举的第三条缺点，真的很影响体验。比如我在写这篇稿子的时候，就会因为画面没有大范围变动，亮度不断降低且期间显示器多次关闭屏幕...</li>\n</ul>\n<p>当然这位大爷伺候好了，玩游戏看电源，尤其是支持 HDR 的资源时确实能给你前所未有的爽感，即使晚上关灯，黑色区域也是完完全全的黑色，不用担心漏光。而且这块 WEBE 面板也有个 LG C1 没有的优势，就是它有纳米纹理玻璃，可以很好的抑制反光以及炫光现象的发生。以及它使用了 DC 调光，和硬件级抗蓝光选项，如果你愿意看发黄的画面的话，可以做到比较护眼。</p>\n<h2 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> 总结</h2>\n<p>很多人担心 42 寸会不会太大，难以适应。我发表一下看法哈，我是 120*60 的升降桌，之前使用的是一款 32 寸的显示器，换到 42 寸，并没有感觉需要适应，只感觉面积大了反而更好多窗口运行了。但是不得不说，用大屏全屏浏览网页会比较难受，一般都会窗口。玩游戏看视频就更不用说了，大屏只会更加震撼。当然我也测试看了一下 1080P 的网络片源，在正常距离全屏观看还是能接受，而且 B 站和主流视频平台的 4K 资源也越来越多了，这个问题应该会越来越不是问题，你如果实在觉得糊可以离远点，窗口观看或者换个更宽的桌子。</p>\n<p>但即使这样，我依然不推荐现阶段购买 OLED 显示器，主要是 OLED 显示器这个烧屏问题真的不适合做 PC 显示器。还是等更多分区的 miniled 产品吧，除非你的电脑仅仅只用于娱乐，而不用于办公。不然时不时亮度降低或者关闭屏幕真的让你心态爆炸，你也得为了它改变一些使用习惯，OLED 现阶段还是太难伺候了...</p>\n<p>PS：<br />\n推荐购买这款显示器的玩家购买北弧一款支持 18KG 承重的支架，目前除了爱格升一款 2K 的支架外就只有这款支架能支撑这么大重量的显示器。我测试承重没有问题，也不会沉头，升降也还算顺滑，但转向比较麻烦。嘛，这么大显示器，基本能撑住就行，也不会有什么希望移动它的时候。</p>\n<p>壁纸推荐使用 steam 的 wallpaper engine, 以前我是觉得动态壁纸花里胡哨，现在 OLED 显示器确实有了它的意义，因为可以防烧屏，我推荐一款叫做 Elden Ring Mystery One 的菈尼动态壁纸，大面积的暗色星空上是蓝色的菈尼老婆，好看又护屏。<br />\n<img data-src=\"https://ypy.moehz.com/img/202206251022586.png#vwid=3840&amp;vhei=2160\" alt=\"\" /></p>\n",
            "tags": [
                "显示器",
                "OLED",
                "KTC"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/pve_no_webUI.html",
            "url": "https://blog.moehz.com/archives/pve_no_webUI.html",
            "title": "关于PVE7.1 webUI一片空白的解决办法",
            "date_published": "2022-03-04T00:00:00.000Z",
            "content_html": "<h2 id=\"问题描述\"><a class=\"anchor\" href=\"#问题描述\">#</a> 问题描述</h2>\n<p>PVE 虚拟机在一次重启后 webUI 打开就是一片空白，注意，并非打不开，而是不显示任何东西。</p>\n<p>使用 <code>F12</code>  打开开发者工具查看，可以看到如下信息：<br />\n<img data-src=\"https://ypy.moehz.com/img/20220304131402.png\" alt=\"\" /><br />\n关键信息在于：</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>no such file '/PVE/StdWorkspace.js'</pre></td></tr></table></figure><h2 id=\"解决办法\"><a class=\"anchor\" href=\"#解决办法\">#</a> 解决办法</h2>\n<p>搜索了很多教程，花了好几天才解决了问题，教程参考：<br />\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZXJ2ZXJhZG1pbi5ydS9mb3J1bS9wcm94bW94L25lLW90a3J5dmFldHN5YS13ZWItaW50ZXJmZWpzLw==\">https://serveradmin.ru/forum/proxmox/ne-otkryvaetsya-web-interfejs/</span></p>\n<p>按照其中的教程操作就能解决问题：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">apt</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt</span> upgrade</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">apt</span> <span class=\"token function\">install</span> -f</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">apt</span> dist-upgrade</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>pvecm updatecerts --force</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">service</span> pveproxy restart</pre></td></tr></table></figure>",
            "tags": [
                "linux",
                "PVE",
                "Proxmox"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/Redmi_X08E.html",
            "url": "https://blog.moehz.com/archives/Redmi_X08E.html",
            "title": "Redmi小爱触屏音箱Pro8",
            "date_published": "2022-02-19T00:00:00.000Z",
            "content_html": "<p>家里小米智能设备越来越多了，虽然手机也能操作，但是语音操作还是会优雅不少，再者部分蓝牙设备还是需要一个蓝牙网关的。所以最终决定买个小爱音箱来作为中控，经过一番对比，最终买了 Redmi 小爱触屏音箱 Pro8。</p>\n<p>首先，总结一下，这恐怕是我今年买到的最满意的产品了，一个 499 的产品覆盖了我超多的使用场景。因为带了一个 8 寸屏幕，它带了无尽的可玩性，下面我来挨个说道说道。</p>\n<h2 id=\"硬件配置\"><a class=\"anchor\" href=\"#硬件配置\">#</a> 硬件配置</h2>\n<ul>\n<li>8 寸的全贴合屏幕，分辨率 <code>1280*800</code></li>\n<li>SOC: mt8167，RAM: 2GB, ROM: 3573MB, 安卓 9.0</li>\n<li>一个大电池：4850mAh</li>\n<li>一个 720P 的前置摄像头</li>\n<li>WIFI 支持 2.4G 和 5G（ps：大多数智能设备都只支持 2.4G，它能支持 5G 让我挺意外的）</li>\n<li>蓝牙 4+（可以作为蓝牙 mesh 网关，蓝牙音箱）</li>\n</ul>\n<p>499 覆盖这么多硬件，已经很不错了，虽然屏幕是 720P 的，但一般也是放在桌上，距离一定距离看屏幕的，而且是全贴合屏！实际观感还是挺细腻的。</p>\n<h2 id=\"作为音箱\"><a class=\"anchor\" href=\"#作为音箱\">#</a> 作为音箱</h2>\n<p>首先，作为一个音箱本职工作首先应该是听个响！俗话说的好，万元以下听个响，它的声音还是挺大的，作为一个木耳，听上去还不错。它是可以通过蓝牙连接电脑的，然后电脑可以使用它当做喇叭，个人感觉比我显示器自带的喇叭要好上不少。<br />\n<img data-src=\"https://ypy.moehz.com/imgbt1.png\" alt=\"\" /></p>\n<h2 id=\"智能终端\"><a class=\"anchor\" href=\"#智能终端\">#</a> 智能终端</h2>\n<p>作为智能终端，它除了可以通过呼喊小爱来操作家里的米家智能设备外，也可以通过屏幕来操作。<br />\n<img data-src=\"https://ypy.moehz.com/imgmjzd.png\" alt=\"\" /><br />\n不过，不要对屏幕操作期待太多... 因为很多手机上能操作的，它上面都做不了...<br />\n 然后作为 mesh 网关，这样家里的一些蓝牙连接的米家设备也可以远程操作了，比如现在我可以在公司打开米家智能门锁帮我朋友开门了<br />\n<img data-src=\"https://ypy.moehz.com/img20220220165533.png\" alt=\"\" /></p>\n<h2 id=\"翻页时钟\"><a class=\"anchor\" href=\"#翻页时钟\">#</a> 翻页时钟</h2>\n<p>这是相当吸引我的一点了，因为我很喜欢翻页时钟，一直很想买个可以显示翻页时钟的摆件，不过那种设备要么不好看，稍微好看点的又贵的要死。</p>\n<p>现在都有了，又有了蓝牙音箱，又有了翻页时钟，个人感觉这款音箱简洁大方，作为时钟摆件颜值还是挺在线的。<br />\n<img data-src=\"https://ypy.moehz.com/img20220220170319.png\" alt=\"\" /></p>\n<h2 id=\"预装软件\"><a class=\"anchor\" href=\"#预装软件\">#</a> 预装软件</h2>\n<p>本身是可以安装 Bilibli 的电视版（云视听）看 B 站内容，因为还带一个大电池，吃饭的时候也可以直接拔了电源放餐桌上边吃边看。<br />\n<img data-src=\"https://ypy.moehz.com/img20220220174350.png\" alt=\"\" /><br />\n也能安装网抑云听听听歌，界面也比较简洁。<br />\n<img data-src=\"https://ypy.moehz.com/img20220220174231.png\" alt=\"\" /><br />\n其他软件还有优酷，爱奇艺，抖音啥的，都是我不怎么用的，而且很多软件都是要付费使用的，我就不多做介绍了。<br />\n<img data-src=\"https://ypy.moehz.com/img20220220174140.png\" alt=\"\" /></p>\n<h2 id=\"其他玩法\"><a class=\"anchor\" href=\"#其他玩法\">#</a> 其他玩法</h2>\n<p>重点来了！它虽然本身是不能安装 app 的，但我们可以通过一些手段来实现安装 app 的功能（刷机），具体步骤我就不说了，网上搜搜都有的。<br />\n经过这一操作，他瞬间有了灵魂，因为配置不高，个人安转的大多是一些 TV 版的 app，下面介绍一下我的玩法。</p>\n<h3 id=\"安装emotn-ui代替原生ui\"><a class=\"anchor\" href=\"#安装emotn-ui代替原生ui\">#</a> 安装 Emotn UI 代替原生 UI</h3>\n<p>原生 UI 无法显示安装的第三方，而且有很多根本用不上的杂乱软件的图标，很碍眼，所以我安装了 Emotn UI 代替。<br />\n<img data-src=\"https://ypy.moehz.com/img20220220173949.png\" alt=\"\" /></p>\n<h3 id=\"安装emotn-store\"><a class=\"anchor\" href=\"#安装emotn-store\">#</a> 安装 Emotn Store</h3>\n<p>里面有很多 TV 使用的 APP，商店页面简洁美观，我很喜欢。通过它，你可以安装 <code>Youtube</code> ,  <code>Netflix</code>  等等，还可以直接通过无线网安装 app，不用再接线连电脑安装了。（PS：这点很重要，因为接口在一个胶垫下面，很难扒开... 扒多了松了装不回去就尴尬了...）<br />\n<img data-src=\"https://ypy.moehz.com/img20220220175115.png\" alt=\"\" /></p>\n<h3 id=\"工具类\"><a class=\"anchor\" href=\"#工具类\">#</a> 工具类</h3>\n<ul>\n<li>AIDA64：用来看配置</li>\n<li>Xplore：可以通过 Samba 访问我的 NAS 上的文件</li>\n<li>翻页时钟<br />\n虽然内置了翻页时钟，但是有一些杂乱的按钮和信息，感觉不是很简洁，所以我又安装了一个翻页时钟 APP 来代替，个人感觉比原生的好看很多。<br />\n<img data-src=\"https://ypy.moehz.com/img20220220175507.png\" alt=\"\" /><br />\n支持的表盘也比原生的多很多（不过需要付费，不贵，20+）。推荐！<br />\n<img data-src=\"https://ypy.moehz.com/img20220220175646.png\" alt=\"\" /></li>\n<li>乐播投屏：用来投屏</li>\n<li>终极旋转控制：让一些不支持横屏的 app 强制横屏</li>\n</ul>\n<h3 id=\"视频类\"><a class=\"anchor\" href=\"#视频类\">#</a> 视频类</h3>\n<ul>\n<li>\n<p>安装了一个哔哩哔哩弹幕版（三方）代替云视听<br />\n因为云视听需要额外的电视版会员，建议替换为这个<br />\n<img data-src=\"https://ypy.moehz.com/img20220220175909.png\" alt=\"\" /></p>\n</li>\n<li>\n<p>Youtube &amp; Netflix<br />\n 根据你的需求吧，我是 Youtube 的重度使用者，必装<br />\n<img data-src=\"https://ypy.moehz.com/img20220220180037.png\" alt=\"\" /></p>\n</li>\n<li>\n<p>猫影视 TV<br />\n 可以自定义源，可以看电视直播，电视上我必装的一个 app，所以也装了<br />\n<img data-src=\"https://ypy.moehz.com/img20220220180142.png\" alt=\"\" /></p>\n</li>\n</ul>\n<h3 id=\"游戏类\"><a class=\"anchor\" href=\"#游戏类\">#</a> 游戏类</h3>\n<blockquote>\n<p>刷机以后是可以连接蓝牙手柄来玩游戏的！</p>\n</blockquote>\n<ul>\n<li>\n<p>RetroArch<br />\n 模拟器，用来玩一些 FC，GBA 老游戏，回味小霸王时代，因为配置羸弱，也只能玩玩这些了，PPSSPP 这类吃配置的模拟器就无缘了<br />\n<img data-src=\"https://ypy.moehz.com/img20220220184416.png\" alt=\"\" /></p>\n</li>\n<li>\n<p>Steam Link<br />\n 配置差，串流来凑，借助 Steam Link，你就可以玩你电脑上所有的 Steam 游戏啦！<br />\n<img data-src=\"https://ypy.moehz.com/img20220220184538.png\" alt=\"\" /></p>\n</li>\n</ul>\n<h2 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> 总结</h2>\n<p>这款 499 的产品实在太香了，而且折腾起来也很有趣，用我朋友的话讲，雷军 499 卖你这个卖亏了，哈哈哈</p>\n",
            "tags": [
                "life",
                "体验",
                "小米",
                "小爱",
                "智能设备"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/ubuntu_sudo_nopasswd.html",
            "url": "https://blog.moehz.com/archives/ubuntu_sudo_nopasswd.html",
            "title": "ubuntu20.04免密执行sudo",
            "date_published": "2022-01-05T00:00:00.000Z",
            "content_html": "<blockquote>\n<p>在编写一些自动化脚本的时候，需要以 root 权限执行某些命令，这时候通过修改 /etc/sudoers 来实现免密执行 sudo 命令是一个比较好的办法。</p>\n</blockquote>\n<h2 id=\"查看用户所在组\"><a class=\"anchor\" href=\"#查看用户所在组\">#</a> 查看用户所在组</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>lab@testlink:~$ <span class=\"token function\">groups</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>lab adm cdrom <span class=\"token function\">sudo</span> dip plugdev lxd</pre></td></tr></table></figure><p>可以看到用户<mark> lab</mark> 在 lab，sudo... 等等组里</p>\n<h2 id=\"配置sudoers\"><a class=\"anchor\" href=\"#配置sudoers\">#</a> 配置 sudoers</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>lab@testlink:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">vim</span> /etc/sudoers</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># User privilege specification</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>root    <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL:ALL<span class=\"token punctuation\">)</span> ALL</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># Members of the admin group may gain root privileges</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>%admin <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL<span class=\"token punctuation\">)</span> ALL</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># Allow members of group sudo to execute any command</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>%sudo   <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL:ALL<span class=\"token punctuation\">)</span> ALL</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>%lab    <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL:ALL<span class=\"token punctuation\">)</span> NOPASSWD:ALL</pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">..</span>.</pre></td></tr></table></figure><p>关键部分如上，在 <code>/etc/sudoers</code>  中加入一行<br />\n <code>%lab    ALL=(ALL:ALL) NOPASSWD:ALL</code> <br />\n 这表示 lab 这个组下的用户可以免密以 <code>sudo</code>  执行命令</p>\n<p>注：<br />\n为什么不直接加入 <code>lab</code>  这个用户免密而是要加入组呢？这是由于用户 <code>lab</code>  还在 <code>sudo</code>  这个组里面， <code>%sudo</code>  组的配置会覆盖用户的配置，即使配置了用户免密，依然要输入密码，这是与早期 ubuntu 版本不同的地方！</p>\n<h2 id=\"部分命令免密\"><a class=\"anchor\" href=\"#部分命令免密\">#</a> 部分命令免密</h2>\n<p>如果不希望 <code>lab</code>  用户能以 <code>sudo</code>  免密执行所有命令，如何操作？比如只希望免密执行 <code>sudo apt update</code> ，操作如下：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>lab@testlink:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">vim</span> /etc/sudoers</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># Cmnd alias specification</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Cmnd_Alias <span class=\"token assign-left variable\">SCMD</span><span class=\"token operator\">=</span>/usr/bin/apt update</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># User privilege specification</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>root    <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL:ALL<span class=\"token punctuation\">)</span> ALL</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># Members of the admin group may gain root privileges</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>%admin <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL<span class=\"token punctuation\">)</span> ALL</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># Allow members of group sudo to execute any command</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>%sudo   <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL:ALL<span class=\"token punctuation\">)</span> ALL</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>%lab    <span class=\"token assign-left variable\">ALL</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ALL:ALL<span class=\"token punctuation\">)</span> NOPASSWD:SCMD</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">..</span>.</pre></td></tr></table></figure><ul>\n<li>添加 <code>Cmnd_Alias SCMD=/usr/bin/apt update</code></li>\n<li>修改 <code>%lab    ALL=(ALL:ALL) NOPASSWD:ALL</code>  中的 <code>ALL</code>  为 <code>SCMD</code>  (对应上面的 Cmnd_Alias 中的命名)</li>\n</ul>\n<p>这样 lab 就只能免密执行 <code>sudo apt update</code> ，其他的命令因为 lab 还处在 <code>sudo</code>  组里面，所以也还是能执行的，只是需要密码，匹配 <code>%sudo   ALL=(ALL:ALL) ALL</code>  这条规则</p>\n",
            "tags": [
                "linux",
                "linux",
                "ubuntu",
                "sudo"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/ONU_status.html",
            "url": "https://blog.moehz.com/archives/ONU_status.html",
            "title": "GPON onu o1-o7状态转换",
            "date_published": "2021-11-23T00:00:00.000Z",
            "content_html": "<p>激活过程由状态和状态转移中的功能行为来规范。</p>\n<p>ONU 状态</p>\n<p>ONU 有 7 种状态：</p>\n<p>a)  初始状态 Initial-state（O1）<br />\n该状态的 ONU 刚刚上电，仍处于 LOS/LOF。一旦接收到下行流，LOS 和 LOF 消除，ONU 就转移到待机状态（O2）。</p>\n<p>b)  待机状态 Standby-state（O2）<br />\n该 状 态 的 ONU 已 经 接 收 到 下 行 流 ， 在 等 待 接 收 网 络 参 数 。 当 ONU 接 收 到 Upstream_Overhead 消息后根据这些网络参数进行相关配置（如：定界符、功率模式、预置的均衡时延）并转移到序列号状态（O3）。</p>\n<p>c)  序列号状态 Serial-Number-state（O3）<br />\nOLT 给所有处于该状态的 ONU 发送 Serial-Number Request 消息，以发现新的 ONU 以及他们的序列号。当 OLT 发现了新的 ONU 后，ONU 就等待 OLT 给它指配 ONU-ID。OLT 通过<br />\n Assign_ONU-ID 消息来指配 ONU-ID。ONU 获得 ONU-ID 后就转移到测距状态（O4）。</p>\n<p>d)  测距状态 Ranging-state（O4）<br />\n不同的 ONU 发送信号到达 OLT 时应保持同步，为此每个 ONU 需要一个均衡时延，该参数是在测距状态中测得的。ONU 接收到 Ranging_Time 消息后转移到运行状态（O5）。</p>\n<p>e)  运行状态 Operation-state（O5）<br />\n处于该状态的 ONU 可以在 OLT 的控制下发送上行数据以及 PLOAM 消息，该状态中的 ONU 也可根据需求建立其他连接。当测距成功后，所有的 ONU 都依据各自的均衡时延发送<br />\n信号，以保持上行帧的同步。不同 ONU 发送的信号将分别到达 OLT，但每个信号会正好出现在上行帧中它应该出现的位置上。暂停运行中的 ONU：在正常运行时，OLT 可能使 ONU 暂停发送信号以获得其它 ONU 的序列号或对其它 ONU 进行测距。OLT 持续一段时间停止对所有上行带宽的授权，ONU 按照正常的方式工作，由于没有接收到授权就不会发送信号，从而产生一个安静时段，这样 OLT 就使得所有 ONU 暂停发送信号。</p>\n<p>f)  POPUP 状态 POPUP-state（O6）<br />\n当处于运行状态（O5）的 ONU 检测到 LOS 或 LOF 时就进入到该状态。在该状态中 ONU 立即停止发送信号，这样 OLT 将检测到该 ONU 的 LOS 告警。当 ODN 光纤中断时，许多 ONU 都会进入到该状态，从网络可靠性考虑，此时应采用以下方式之一：<br />\n如果启用了保护倒换，所有的 ONU 将倒换到备用光纤上。这时所有 ONU 将重新进行测距，为此 OLT 发送 Broadcast POPUP 消息通知所有 ONU 进入到测距状态（O4）。<br />\n如果没有保护倒换但 ONU 具有内部保护能力，OLT 发送 Directed POPUP 消息通知 ONU 进入运行状态（O5）。当 ONU 进入到 O5 状态时，OLT 需要先对该 ONU 进行检测，之后再<br />\n恢复该 ONU 的业务。如果 ONU 没有从 LOS 或 LOF 中恢复过来，ONU 就不会收到 Broadcast POPUP 消息或 Directed POPUP 消息，经过 TO2 时间后 ONU 进入初始状态（O1）。</p>\n<p>g)  紧急停止状态 Emergency-Stop-state（O7）</p>\n<p>当 ONU 接收到的 Disable_Serial_Number 消息带有 “Disable” 选项时，ONU 就进入到紧急停止状态（O7）并关闭激光器。在 O7 状态下，ONU 被禁止发送信号。如果 ONU 没有成功进入到 O7 状态，并且 OLT 仍能继续接收到 ONU 发送的信号，OLT 将产生 Dfi 告警。当 ONU 的故障排除后，OLT 发送带有 “Enable” 选项的 Disable_Serial_Number 消息，从而激活该 ONU。ONU 接收到消息后进入待机状态（O2），所有的参数（包括序列号和 ONU-ID）将被重新检查。<br />\n<img data-src=\"https://ypy.moehz.com/img/20170424102657804.png\" alt=\"\" /></p>\n<p>原文链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dhbmdnYW5nX2h6Y3cvYXJ0aWNsZS9kZXRhaWxzLzcwNTcwMTIw\">https://blog.csdn.net/wanggang_hzcw/article/details/70570120</span></p>\n",
            "tags": [
                "网络",
                "pon",
                "olt",
                "gpon"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/3ds_controllers.html",
            "url": "https://blog.moehz.com/archives/3ds_controllers.html",
            "title": "3DS外接手柄",
            "date_published": "2021-08-07T00:00:00.000Z",
            "content_html": "<h1 id=\"前提\"><a class=\"anchor\" href=\"#前提\">#</a> 前提</h1>\n<ul>\n<li>3DS 需进行 b9s 破解，luma 8.0 以上</li>\n<li>PC 一台，PC 和 3DS 需连接到同一网络</li>\n</ul>\n<div class=\"note info\">\n<p>仅需同一网络即可，可以不连到同一 wifi 节点，电脑连 5G，3DS 连 2.4G 也是可以的，甚至电脑有线连接也可以。</p>\n</div>\n<h1 id=\"步骤\"><a class=\"anchor\" href=\"#步骤\">#</a> 步骤</h1>\n<h2 id=\"3ds上的操作\"><a class=\"anchor\" href=\"#3ds上的操作\">#</a> 3DS 上的操作</h2>\n<ol>\n<li>同时按<span class=\"kbd\"> L</span>+<span class=\"kbd\">↓</span>+<span class=\"kbd\">SELECT</span> 唤出菜单</li>\n<li>选择 <code>Miscellaneous options</code>  后，点<span class=\"kbd\"> A</span></li>\n<li>选择 <code>Start InputRedirection</code>  后，点<span class=\"kbd\"> A</span></li>\n<li>按<span class=\"kbd\"> B</span> 返回菜单后，看到右上角显示了 IP 地址就说明开启成功了。</li>\n<li>记住 IP 地址，后面会用，然后一直按<span class=\"kbd\"> B</span> 退出菜单</li>\n</ol>\n<h2 id=\"电脑端的操作\"><a class=\"anchor\" href=\"#电脑端的操作\">#</a> 电脑端的操作</h2>\n<ol>\n<li>下载软件：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3IubGFuem91aS5jb20vaXJwcUlzY2RraWI=\">InputRedirection，密码：2333</span></li>\n<li>解压后，打开软件，在 IP address 一栏输入上一步看到的 IP 地址</li>\n<li>连接手柄到电脑上，现在应该就可以使用手柄操控 3DS 了</li>\n</ol>\n",
            "tags": [
                "ACG",
                "Game",
                "3DS",
                "3DS"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/win10_set_startupapp.html",
            "url": "https://blog.moehz.com/archives/win10_set_startupapp.html",
            "title": "WIN10强制软件开机自启的方法",
            "date_published": "2021-08-01T00:00:00.000Z",
            "content_html": "<p>今天发现一个可以设置快捷键，一键切换分辨率的软件<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mdW5rLmV1L2hyYy8=\"> HRC</span>，玩一些不支持高分屏的游戏还是有点用的。</p>\n<p>但是这个软件没有设置开机自启的设置项，所以查了一下 WIN10 怎么设置开机自启，记录一下方法，方便以后查询</p>\n<p>1. 通过快捷键 <code>WIN+R</code>  打开运行窗口，输入开机启动的文件夹路径，如下：</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>%USERPROFILE%\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup</pre></td></tr></table></figure><p>2. 创建需要开机自启的软件的快捷方式，放入该文件夹即可</p>\n",
            "tags": [
                "default",
                "win10"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/win11_upgrade_condition.html",
            "url": "https://blog.moehz.com/archives/win11_upgrade_condition.html",
            "title": "解决不能升级WIN11的问题",
            "date_published": "2021-06-26T00:00:00.000Z",
            "content_html": "<h1 id=\"序\"><a class=\"anchor\" href=\"#序\">#</a> 序</h1>\n<div class=\"note info\">\n<p>温馨提醒：此段都是废话，不想听我扯淡的可以直接看下面的教程</p>\n</div>\n<p>之前就发生过 win11 的泄露事件，我也是第一时间用虚拟机安装体验了一把。个人感觉变化不大，仅仅做了一些 UI 的调整。</p>\n<p>不久后，<s>巨硬</s>微软发布了 win11，坐实了泄露版是真正的 win11，只是版本较为早期一些。在发布中，比较吸引我的一点是自带安卓环境，以后就不用装安卓模拟器玩安卓游戏了。</p>\n<p>这可就让我爽到了，毕竟我电脑大部分时间就是边看视频边刷碧蓝航线，所以我还是很有动力升级 WIN11 的。<br />\n<img data-src=\"https://ypy.moehz.com/img/20210626181456.png\" alt=\"20210626181456\" /><br />\n<span class=\"spoiler\" title=\"你知道得太多了\"> 佐贺偶像天下第一！碧蓝航线天下第一！</span></p>\n<h1 id=\"问\"><a class=\"anchor\" href=\"#问\">#</a> 问</h1>\n<p>回归正题，微软公布了安装 win11 的最低配置，还发布了个检测软件。<br />\n检测软件下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubWljcm9zb2Z0LmNvbS96aC1jbi93aW5kb3dzL3dpbmRvd3MtMTE=\">https://www.microsoft.com/zh-cn/windows/windows-11</span><br />\n 拉到下面，点击下载应用，如图：<br />\n<img data-src=\"https://ypy.moehz.com/img/20210626181339.png\" alt=\"20210626181339\" /></p>\n<p>无脑安装后就可以检测了，结果...<br />\n<img data-src=\"https://ypy.moehz.com/img/20210626181708.png\" alt=\"20210626181708\" /><br />\n 我裂开了，要知道我的配置既不是很旧也不算低了，如图：<br />\n<img data-src=\"https://ypy.moehz.com/img/20210626181957.png\" alt=\"20210626181957\" /><br />\n 显卡卖给矿老板了，请无视 orz。除显卡外，我的配置可以说相当高了。<br />\n可以说我要是不能升级，90% 的人估计都升不了，这显然不合理。经过一系列的搜索，我最终找到了问题所在。</p>\n<h1 id=\"解\"><a class=\"anchor\" href=\"#解\">#</a> 解</h1>\n<h2 id=\"检测tpm是否开启\"><a class=\"anchor\" href=\"#检测tpm是否开启\">#</a> 检测 TPM 是否开启</h2>\n<p>其实最主要的问题在于 TPM 有没有开启，下面是检测是否开启的方法：</p>\n<ol>\n<li><code>win</code> + <code>r</code>  调出运行窗口</li>\n<li>输入 <code>tpm.msc</code></li>\n</ol>\n<p><img data-src=\"https://ypy.moehz.com/img/20210626182403.png\" alt=\"20210626182403\" /><br />\n 按回车键后，会跳出如下窗口<br />\n<img data-src=\"https://ypy.moehz.com/img/20210626182530.png\" alt=\"20210626182530\" /><br />\n 如果你看到的是上图，那么你无法升级 WIN11 的原因很大可能也是在此</p>\n<h2 id=\"开启tpm\"><a class=\"anchor\" href=\"#开启tpm\">#</a> 开启 TPM</h2>\n<p>这需要去主板 BIOS 开启</p>\n<ul>\n<li>INTEL 系的主板里，这个功能选项叫做 <code>PTT</code></li>\n<li>AMD 系的主板里，这个功能叫 <code>fTPM</code></li>\n</ul>\n<p>如何开启请自行搜索，各家主板位置可能不同，无法赘述</p>\n<p>开启后，再用上面介绍的方法检测 TPM 是否开启。一般此时应该能解决问题，但是不幸的事发生了，即使我在 bios 里开启了 PTT 选项，系统依然无法检测到 TPM。如果你不幸跟我一样，这样也无法解决，可能也要 <code>升级Bios</code>  了。没错，在我从官网下载了最新的 bios 进行升级以后，终于成功的开启了 TPM。</p>\n<h2 id=\"成功后的测试\"><a class=\"anchor\" href=\"#成功后的测试\">#</a> 成功后的测试</h2>\n<p>如果你成功的开启了 TPM，通过 <code>tpm.msc</code>  应该可以看到如下画面：<br />\n<img data-src=\"https://ypy.moehz.com/img/20210626184238.png\" alt=\"20210626184238\" /></p>\n<p>此时再去检测看看，反正我的问题事解决了：<br />\n<img data-src=\"https://ypy.moehz.com/img/20210626184333.png\" alt=\"20210626184333\" /></p>\n<p>后面就可以坐等升级推送了！</p>\n",
            "tags": [
                "其他",
                "WIN11",
                "TPM"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/wireshark_ax200_wifi.html",
            "url": "https://blog.moehz.com/archives/wireshark_ax200_wifi.html",
            "title": "linux下空口抓包环境搭建",
            "date_published": "2021-06-24T00:00:00.000Z",
            "content_html": "<h1 id=\"安装ubuntu\"><a class=\"anchor\" href=\"#安装ubuntu\">#</a> 安装 ubuntu</h1>\n<h2 id=\"下载镜像\"><a class=\"anchor\" href=\"#下载镜像\">#</a> 下载镜像</h2>\n<p>系统镜像地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbi51YnVudHUuY29tL2Rvd25sb2FkL2Rlc2t0b3A=\">https://cn.ubuntu.com/download/desktop</span><br />\n 安装最新的 <code>Ubuntu 20.04.2.0 LTS</code>  已保证最新的内核和驱动来支持 AX200 等网卡</p>\n<h2 id=\"制作u盘启动盘\"><a class=\"anchor\" href=\"#制作u盘启动盘\">#</a> 制作 U 盘启动盘</h2>\n<p>1. 安装 Ventoy<br />\n 下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3ZlbnRveS9WZW50b3kvcmVsZWFzZXM=\">https://github.com/ventoy/Ventoy/releases</span><br />\n 绿色包，无需安装解压直接可用</p>\n<p>2. 点击 <code>Ventoy2Disk.exe</code> ，使用软件制作一个 U 盘启动盘<br />\n<img data-src=\"https://ypy.moehz.com/img/20210624140439.png\" alt=\"20210624140439\" /><br />\n 走完进度条就制作完毕</p>\n<p>3. 将下载的 ubuntu 镜像放到 U 盘中就完成引导盘的制作了</p>\n<h2 id=\"安装系统\"><a class=\"anchor\" href=\"#安装系统\">#</a> 安装系统</h2>\n<p>根据各自机型进 bios（一般为开机按 F2，F12，DEL 等按键），将 U 盘设为第一启动项，进入后根据引导安装系统。根据引导程序可以很容易的安装 ubuntu，此处安装过程省略</p>\n<h2 id=\"进入系统后的开局操作\"><a class=\"anchor\" href=\"#进入系统后的开局操作\">#</a> 进入系统后的开局操作</h2>\n<p>1. 按 <code>ctrl+alt+T</code>  呼出终端，输入如下命令：</p>\n<ul>\n<li>更新软件库</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update</pre></td></tr></table></figure><ul>\n<li>升级软件库</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> upgrade</pre></td></tr></table></figure><hr />\n<h1 id=\"安装wireshark\"><a class=\"anchor\" href=\"#安装wireshark\">#</a> 安装 wireshark</h1>\n<h2 id=\"启用universe-资源库\"><a class=\"anchor\" href=\"#启用universe-资源库\">#</a> 启用 Universe 资源库</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> add-apt-repository universe</pre></td></tr></table></figure><h2 id=\"添加-wireshark-官方-ppa\"><a class=\"anchor\" href=\"#添加-wireshark-官方-ppa\">#</a> 添加 wireshark 官方 PPA</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> add-apt-repository ppa:wireshark-dev/stable</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update</pre></td></tr></table></figure><h2 id=\"安装wireshark-2\"><a class=\"anchor\" href=\"#安装wireshark-2\">#</a> 安装 wireshark</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> wireshark</pre></td></tr></table></figure><p>注：</p>\n<ol>\n<li>安装过程中会有一个类图形界面跳出，是询问是否允许非 <code>root</code>  用户抓包，选 <code>Yes</code></li>\n<li>如果不小心选了 <code>No</code> ，使用如下命令重新配置</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> dpkg-reconfigure wireshark-common</pre></td></tr></table></figure><h2 id=\"将当前用户加入到-wireshark-组\"><a class=\"anchor\" href=\"#将当前用户加入到-wireshark-组\">#</a> 将当前用户加入到 wireshark 组</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">usermod</span> -aG wireshark <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">whoami</span><span class=\"token variable\">)</span></span></pre></td></tr></table></figure><h2 id=\"logout-后重新登陆一下\"><a class=\"anchor\" href=\"#logout-后重新登陆一下\">#</a> logout 后重新登陆一下</h2>\n<p>此时已经可以使用普通用户打开 wireshark 进行抓包了，但还不能空口抓包</p>\n<hr />\n<h1 id=\"空口抓包的设置\"><a class=\"anchor\" href=\"#空口抓包的设置\">#</a> 空口抓包的设置</h1>\n<h2 id=\"安装aircrack-ng\"><a class=\"anchor\" href=\"#安装aircrack-ng\">#</a> 安装 aircrack-ng</h2>\n<blockquote>\n<p>用来切换网卡为监听模式</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> aircrack-ng</pre></td></tr></table></figure><h2 id=\"监听模式的开关\"><a class=\"anchor\" href=\"#监听模式的开关\">#</a> 监听模式的开关</h2>\n<ul>\n<li>开启监听模式</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> airmon-ng start wlp2s0</pre></td></tr></table></figure><ul>\n<li>关闭监听模式</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> airmon-ng stop wlp2s0mon</pre></td></tr></table></figure><h2 id=\"空口抓包\"><a class=\"anchor\" href=\"#空口抓包\">#</a> 空口抓包</h2>\n<blockquote>\n<p>开启监听模式后就可以用 wireshark 空口抓包了</p>\n</blockquote>\n<p>1. 勾选 <code>View</code> --&gt; <code>Wireless Toolbar</code> , 开启后可以选信道，频宽选项<br />\n 2. 选择信道，频宽后就可以开始抓包了<br />\n<img data-src=\"https://ypy.moehz.com/img/wireshark_wifi6.png\" alt=\"wireshark_wifi6\" /></p>\n",
            "tags": [
                "网络",
                "WIFI",
                "wireshark",
                "WIFI"
            ]
        },
        {
            "id": "https://blog.moehz.com/archives/wifi_mode_rate.html",
            "url": "https://blog.moehz.com/archives/wifi_mode_rate.html",
            "title": "不同的 Wi-Fi 协议和数据速率",
            "date_published": "2021-06-15T00:00:00.000Z",
            "content_html": "<h1 id=\"ieee-80211-wi-fi-协议摘要\"><a class=\"anchor\" href=\"#ieee-80211-wi-fi-协议摘要\">#</a> IEEE 802.11 Wi-Fi 协议摘要</h1>\n<table>\n<thead>\n<tr>\n<th>协议</th>\n<th>频率</th>\n<th>通道宽度</th>\n<th>MIMO</th>\n<th>最大数据速率（理论上）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>802.11ax</td>\n<td>2.4 或 5GHz</td>\n<td>20, 40, 80, 160MHz</td>\n<td>多用户 (MU-MIMO)</td>\n<td>2.4 Gbps1</td>\n</tr>\n<tr>\n<td>802.11ac wave2</td>\n<td>5 GHz</td>\n<td>20, 40, 80, 160MHz</td>\n<td>多用户 (MU-MIMO)</td>\n<td>1.73 Gbps2</td>\n</tr>\n<tr>\n<td>802.11ac wave1</td>\n<td>5 GHz</td>\n<td>20, 40, 80MHz</td>\n<td>单用户 (SU MIMO)</td>\n<td>866.7 Mbps2</td>\n</tr>\n<tr>\n<td>802.11n</td>\n<td>2.4 或 5 GHz</td>\n<td>20、40MHz</td>\n<td>单用户 (SU MIMO)</td>\n<td>450 Mbps3</td>\n</tr>\n<tr>\n<td>802.11g</td>\n<td>2.4 GHz</td>\n<td>20 MHz</td>\n<td>不适用</td>\n<td>54 Mbps</td>\n</tr>\n<tr>\n<td>802.11a</td>\n<td>5 GHz</td>\n<td>20 MHz</td>\n<td>不适用</td>\n<td>54 Mbps</td>\n</tr>\n<tr>\n<td>802.11b</td>\n<td>2.4 GHz</td>\n<td>20 MHz</td>\n<td>不适用</td>\n<td>11 Mbps</td>\n</tr>\n<tr>\n<td>传统 802.11</td>\n<td>2.4 GHz</td>\n<td>20 MHz</td>\n<td>不适用</td>\n<td>2 Mbps</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"80211ax-wi-fi-6\"><a class=\"anchor\" href=\"#80211ax-wi-fi-6\">#</a> 802.11ax (Wi-Fi 6)</h1>\n<blockquote>\n<p>支持 2.4 和 5 GHz</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>Mode</th>\n<th>最大速率</th>\n<th>天线传输 / 接收阵列</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1x1 20 MHz</td>\n<td>143 Mbps</td>\n<td>1 TX（传输、上传）<br/>1 RX（接收、下载)</td>\n</tr>\n<tr>\n<td>2x2 20 MHz</td>\n<td>287 Mbps</td>\n<td>2 TX 2 RX</td>\n</tr>\n<tr>\n<td>1x1 40 MHz</td>\n<td>287 Mbps</td>\n<td>1 TX 1 RX</td>\n</tr>\n<tr>\n<td>2x2 40 MHz</td>\n<td>574 Mbps</td>\n<td>2 TX 2 RX</td>\n</tr>\n<tr>\n<td>1x1 80 MHz</td>\n<td>601 Mbps</td>\n<td>1 TX 1 RX</td>\n</tr>\n<tr>\n<td>2x2 80 MHz</td>\n<td>1.2 Gbps</td>\n<td>2 TX 2 RX</td>\n</tr>\n<tr>\n<td>1x1 160 MHz</td>\n<td>1.2 Gbps</td>\n<td>1 TX 1 RX</td>\n</tr>\n<tr>\n<td>2x2 160 MHz</td>\n<td>2.4 Gbps</td>\n<td>2 TX 2 RX</td>\n</tr>\n</tbody>\n</table>\n",
            "tags": [
                "网络",
                "WIFI",
                "WIFI"
            ]
        }
    ]
}